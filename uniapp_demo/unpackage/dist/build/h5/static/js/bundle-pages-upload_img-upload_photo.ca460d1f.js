(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["bundle-pages-upload_img-upload_photo"],{"0495":function(e,t,a){var i=a("6e68");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("4f06").default;n("78eff2d3",i,!0,{sourceMap:!1,shadowMode:!1})},"0a34":function(e,t,a){"use strict";a("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("d3b7"),a("159b"),a("14d9"),a("a434");var i=null,n={data:function(){return{currentIndex:"0",feedbackTypeList:[{code:"0",name:"BUG反馈"},{code:"1",name:"功能建议"},{code:"2",name:"其他问题"}],feedbackValue:"",conLength:0,tempFileList:[],tempFileObject:[],maxChooseImages:5,cooperate:0}},onLoad:function(){i=this},watch:{feedbackValue:function(e,t){console.log("计算属性",e),this.conLength=e.length}},methods:{cancelEvaluateFun:function(){this.$refs.popup.close(),console.log(" 评价患者 取消评价")},submitEvaluateFun:function(){this.$refs.popup.close(),console.log(" 评价患者 提交评价")},cooperateChange:function(e){console.log(" 评价患者星",e,this.cooperate)},feedbackTypeHandle:function(e){console.log("[反馈类型]",e),this.currentIndex=e},getFeedbackMessageHandle:function(e){console.log("[反馈内容]",e),this.feedbackValue=e.detail.value},chooseImageHandle:function(){console.log("[上传图片]"),i.tempFileList.length<i.maxChooseImages?uni.chooseMedia({count:i.maxChooseImages,mediaType:["image"],sizeType:["original","compressed"],sourceType:["album"],camera:"back",success:function(e){var t=e.tempFiles;t.forEach((function(e,t){i.tempFileList.length<i.maxChooseImages?(console.log("for in ",e),uni.compressImage({src:e.tempFilePath,quality:60,success:function(e){console.log("压缩图片compressI",e),i.tempFileList.push({path:e.tempFilePath})}})):console.log("图片数已达到5张")}))}}):uni.showToast({title:"最大5张",icon:"none"})},deleteImgHandle:function(e){console.log("[删除图片]"),this.tempFileList.splice(e,1),console.log(this.tempFileList)},submitHandle:function(){console.log("[反馈意见]"),console.log(this.tempFileList),this.savaImageFun()},savaImageFun:function(){i.tempFileList.forEach((function(e,t){console.log("保存图片item",e),uni.saveImageToPhotosAlbum({filePath:e.path,success:function(e){uni.showToast({title:"保存成功",icon:"none"})},fail:function(e){uni.showToast({title:"保存失败",icon:"none"})}})}))}}};t.default=n},"463d":function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return i}));var i={uniIcons:a("685f").default},n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",[a("v-uni-view",{ref:"uni-rate",staticClass:"uni-rate"},e._l(e.stars,(function(t,i){return a("v-uni-view",{key:i,staticClass:"uni-rate__icon",class:{"uni-cursor-not-allowed":e.disabled},style:{"margin-right":e.marginNumber+"px"},on:{touchstart:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.touchstart.apply(void 0,arguments)},touchmove:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.touchmove.apply(void 0,arguments)},mousedown:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.mousedown.apply(void 0,arguments)},mousemove:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.mousemove.apply(void 0,arguments)},mouseleave:function(t){arguments[0]=t=e.$handleEvent(t),e.mouseleave.apply(void 0,arguments)}}},[a("uni-icons",{attrs:{color:e.color,size:e.size,type:e.isFill?"star-filled":"star"}}),a("v-uni-view",{staticClass:"uni-rate__icon-on",style:{width:t.activeWitch}},[a("uni-icons",{attrs:{color:e.disabled?e.disabledColor:e.activeColor,size:e.size,type:"star-filled"}})],1)],1)})),1)],1)},o=[]},"4c6b":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/*uni.scss*/\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.feedback-wrap[data-v-d8029570]{width:91.47%;margin:12px auto;display:flex;flex-direction:column}.feedback-wrap .feedback-type[data-v-d8029570]{display:flex;flex-direction:column}.feedback-wrap .feedback-type .feedback-type-title[data-v-d8029570]{font-size:15px;font-family:Source Han Sans CN;font-weight:400;color:#fefefe}.feedback-wrap .feedback-type .feedback-type-con[data-v-d8029570]{display:flex;flex-direction:row;flex-wrap:wrap;margin-top:10px}.feedback-wrap .feedback-type .feedback-type-con .feedback-type-item[data-v-d8029570]{background:#0a0e1d;border:1px solid #70737f;border-radius:18px;font-size:14px;font-family:Source Han Sans CN;font-weight:400;color:#fefeff;padding:7.5px 17.5px;margin-right:11.5px;margin-top:6px}.feedback-wrap .feedback-type .feedback-type-con .type-active[data-v-d8029570]{border:1px solid #e54848;background:linear-gradient(0deg,#f65555,#e54848);color:#fefeff}.feedback-wrap .feedback-con[data-v-d8029570]{display:flex;flex-direction:column;margin-top:21.5px}.feedback-wrap .feedback-con .feedback-con-title[data-v-d8029570]{font-size:15px;font-family:Source Han Sans CN;font-weight:400;color:#fefefe;position:relative}.feedback-wrap .feedback-con .feedback-con-title .feedback-con-num[data-v-d8029570]{position:absolute;right:0;top:0}.feedback-wrap .feedback-con .feedback-con-msg[data-v-d8029570]{min-height:120px;border:1px solid #70737f;border-radius:8px;margin-top:12px;padding:12px 12px}.feedback-wrap .feedback-con .feedback-con-msg .feedback-con-textarea[data-v-d8029570]{width:100%;font-size:14px;font-family:Source Han Sans CN;font-weight:400;color:#fefefe}.feedback-wrap .feedback-con .feedback-con-msg .placeholderclass[data-v-d8029570]{color:#999}.feedback-wrap .feedback-image[data-v-d8029570]{display:flex;flex-direction:column;margin-top:21.5px}.feedback-wrap .feedback-image .feedback-image-title[data-v-d8029570]{font-size:15px;font-family:Source Han Sans CN;font-weight:400;color:#fefefe;position:relative}.feedback-wrap .feedback-image .feedback-image-box[data-v-d8029570]{display:flex;flex-direction:row;flex-wrap:wrap;margin-top:2px}.feedback-wrap .feedback-image .feedback-image-box .feedback-image-item[data-v-d8029570]{border:1px solid #70737f;border-radius:8px;width:62px;height:62px;margin-right:9.5px;margin-top:9.5px;display:flex;background-color:#fff;position:relative}.feedback-wrap .feedback-image .feedback-image-box .feedback-image-item .feedback-image-icon[data-v-d8029570]{border-radius:8px;width:100%;height:100%;display:block}.feedback-wrap .feedback-image .feedback-image-box .feedback-image-item .feedback-image-delete[data-v-d8029570]{color:red;position:absolute;top:-5px;right:-5px}.feedback-wrap .feedback-image .feedback-image-box .feedback-image-btn[data-v-d8029570]{border:1px solid #70737f;border-radius:8px;width:62px;height:62px;margin-right:9.5px;margin-top:9.5px;display:flex;flex-direction:column;font-size:13px;font-family:Source Han Sans CN;font-weight:400;color:#999;justify-content:center;align-items:center}.feedback-wrap .feedback-phone[data-v-d8029570]{display:flex;flex-direction:column;margin-top:21.5px}.feedback-wrap .feedback-phone .feedback-phone-title[data-v-d8029570]{font-size:15px;font-family:Source Han Sans CN;font-weight:400;color:#fefefe;position:relative}.feedback-wrap .feedback-phone .feedback-phone-box[data-v-d8029570]{width:100%;display:flex;flex-direction:row;margin-top:8px}.feedback-wrap .feedback-phone .feedback-phone-box .feedback-phone-input[data-v-d8029570]{border-bottom:1px solid #70737f;width:100%;height:30px;font-size:14px;font-family:Source Han Sans CN;font-weight:400;color:#fefefe}.feedback-wrap .feedback-phone .feedback-phone-box .placeholderclass[data-v-d8029570]{color:#999}.feedback-wrap .box-pop[data-v-d8029570]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:%?600?%;border-radius:%?10?%}.feedback-wrap .box-pop .box-title[data-v-d8029570]{margin-top:%?20?%;text-align:center;color:#39c9bc;font-size:%?32?%}.feedback-wrap .box-pop .box-sub-title[data-v-d8029570]{text-align:center;color:#666;font-size:%?24?%}.feedback-wrap .box-pop .rate-center[data-v-d8029570]{margin-left:%?30?%}.feedback-wrap .box-bottom[data-v-d8029570]{width:100%;height:%?120?%;display:flex;flex-direction:row;align-items:center;justify-content:space-between;padding-left:%?10?%;padding-right:%?10?%}.feedback-wrap .box-bottom .bottom-item[data-v-d8029570]{width:50%;color:#000;text-align:center}.feedback-wrap .feedback-btn[data-v-d8029570]{margin-top:21.5px;width:%?400?%;height:%?80?%}',""]),e.exports=t},6633:function(e,t,a){var i=a("4c6b");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("4f06").default;n("27f29de6",i,!0,{sourceMap:!1,shadowMode:!1})},6681:function(e,t,a){"use strict";var i=a("6633"),n=a.n(i);n.a},"6b83":function(e,t,a){"use strict";a("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("a9e3"),a("14d9"),a("c975"),a("d9e2"),a("d401"),a("e25e"),a("ac1f");var i={name:"UniRate",props:{isFill:{type:[Boolean,String],default:!0},color:{type:String,default:"#ececec"},activeColor:{type:String,default:"#ffca3e"},disabledColor:{type:String,default:"#c0c0c0"},size:{type:[Number,String],default:24},value:{type:[Number,String],default:0},modelValue:{type:[Number,String],default:0},max:{type:[Number,String],default:5},margin:{type:[Number,String],default:0},disabled:{type:[Boolean,String],default:!1},readonly:{type:[Boolean,String],default:!1},allowHalf:{type:[Boolean,String],default:!1},touchable:{type:[Boolean,String],default:!0}},data:function(){return{valueSync:"",userMouseFristMove:!0,userRated:!1,userLastRate:1}},watch:{value:function(e){this.valueSync=Number(e)},modelValue:function(e){this.valueSync=Number(e)}},computed:{stars:function(){for(var e=this.valueSync?this.valueSync:0,t=[],a=Math.floor(e),i=Math.ceil(e),n=0;n<this.max;n++)a>n?t.push({activeWitch:"100%"}):i-1===n?t.push({activeWitch:100*(e-a)+"%"}):t.push({activeWitch:"0"});return t},marginNumber:function(){return Number(this.margin)}},created:function(){this.valueSync=Number(this.value||this.modelValue),this._rateBoxLeft=0,this._oldValue=null},mounted:function(){var e=this;setTimeout((function(){e._getSize()}),100),this.PC=this.IsPC()},methods:{touchstart:function(e){if(!this.IsPC()&&!this.readonly&&!this.disabled){var t=e.changedTouches[0],a=t.clientX,i=t.screenX;this._getRateCount(a||i)}},touchmove:function(e){if(!this.IsPC()&&!this.readonly&&!this.disabled&&this.touchable){var t=e.changedTouches[0],a=t.clientX,i=t.screenX;this._getRateCount(a||i)}},mousedown:function(e){if(this.IsPC()&&!this.readonly&&!this.disabled){var t=e.clientX;this.userLastRate=this.valueSync,this._getRateCount(t),this.userRated=!0}},mousemove:function(e){if(this.IsPC()&&!this.userRated&&(this.userMouseFristMove&&(console.log("---mousemove----",this.valueSync),this.userLastRate=this.valueSync,this.userMouseFristMove=!1),!this.readonly&&!this.disabled&&this.touchable)){var t=e.clientX;this._getRateCount(t)}},mouseleave:function(e){this.IsPC()&&(this.readonly||this.disabled||!this.touchable||(this.userRated?this.userRated=!1:this.valueSync=this.userLastRate))},IsPC:function(){for(var e=navigator.userAgent,t=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],a=!0,i=0;i<t.length-1;i++)if(e.indexOf(t[i])>0){a=!1;break}return a},_getRateCount:function(e){this._getSize();var t=Number(this.size);if(isNaN(t))return new Error("size 属性只能设置为数字");var a=e-this._rateBoxLeft,i=parseInt(a/(t+this.marginNumber));i=i<0?0:i,i=i>this.max?this.max:i;var n=parseInt(a-(t+this.marginNumber)*i),o=0;(this._oldValue!==i||this.PC)&&(this._oldValue=i,o=this.allowHalf?n>t/2?i+1:i+.5:i+1,o=Math.max(.5,Math.min(o,this.max)),this.valueSync=o,this._onChange())},_onChange:function(){this.$emit("input",this.valueSync),this.$emit("update:modelValue",this.valueSync),this.$emit("change",{value:this.valueSync})},_getSize:function(){var e=this;uni.createSelectorQuery().in(this).select(".uni-rate").boundingClientRect().exec((function(t){t&&(e._rateBoxLeft=t[0].left)}))}}};t.default=i},"6e68":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/*uni.scss*/\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.uni-rate[data-v-588f4815]{display:flex;line-height:1;font-size:0;flex-direction:row;cursor:pointer}.uni-rate__icon[data-v-588f4815]{position:relative;line-height:1;font-size:0}.uni-rate__icon-on[data-v-588f4815]{overflow:hidden;position:absolute;top:0;left:0;line-height:1;text-align:left}.uni-cursor-not-allowed[data-v-588f4815]{cursor:not-allowed!important}',""]),e.exports=t},"8fcc":function(e,t,a){"use strict";a.r(t);var i=a("0a34"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},b2c5:function(e,t,a){"use strict";var i=a("0495"),n=a.n(i);n.a},cd33:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return i}));var i={uniPopup:a("6b03").default,uDivider:a("80ce").default,uniRate:a("db1b").default},n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"feedback-wrap"},[a("v-uni-view",{staticClass:"feedback-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.submitHandle.apply(void 0,arguments)}}},[e._v("提交反馈")]),a("v-uni-view",{staticClass:"feedback-type"},[a("v-uni-view",{staticClass:"feedback-type-title"},[e._v("反馈类型")]),a("v-uni-view",{staticClass:"feedback-type-con"},[e._l(e.feedbackTypeList,(function(t,i){return[a("v-uni-view",{key:t.code,staticClass:"feedback-type-item",class:{"type-active":e.currentIndex==i},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.feedbackTypeHandle(i)}}},[e._v(e._s(t.name))])]}))],2)],1),a("v-uni-view",{staticClass:"feedback-con"},[a("v-uni-view",{staticClass:"feedback-con-title"},[a("v-uni-text",[e._v("反馈内容")]),a("v-uni-text",{staticClass:"feedback-con-num"},[e._v(e._s(e.conLength)+"/200")])],1),a("v-uni-view",{staticClass:"feedback-con-msg"},[a("v-uni-textarea",{staticClass:"feedback-con-textarea",attrs:{maxlength:"200",placeholder:"请输入反馈内容并上传图片","placeholder-class":"placeholderclass"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.getFeedbackMessageHandle.apply(void 0,arguments)}}})],1)],1),a("v-uni-view",{staticClass:"feedback-image"},[a("v-uni-view",{staticClass:"feedback-image-title"},[a("v-uni-text",[e._v("上传图片")])],1),a("v-uni-view",{staticClass:"feedback-image-box"},[e._l(e.tempFileList,(function(t,i){return[a("v-uni-view",{key:t.path,staticClass:"feedback-image-item"},[a("v-uni-image",{staticClass:"feedback-image-icon",attrs:{src:t.path}}),a("v-uni-text",{staticClass:"iconfont feedback-image-delete",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.deleteImgHandle(i)}}},[e._v("x")])],1)]})),a("v-uni-view",{staticClass:"feedback-image-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.chooseImageHandle.apply(void 0,arguments)}}},[a("v-uni-image",{staticStyle:{width:"80rpx",height:"80rpx","background-color":"#eeeeee"},attrs:{src:"/static/images/mine_paizhao.png"}})],1)],2)],1),a("uni-popup",{ref:"popup",attrs:{"background-color":"#fff",type:"dialog","is-mask-click":!1}},[a("v-uni-view",{staticClass:"box-pop"},[a("v-uni-view",{staticClass:"box-title"},[e._v("评价患者")]),a("v-uni-view",{staticClass:"box-sub-title"},[e._v("本次服务中患者是否愿意配合")]),a("u-divider",{attrs:{hairline:"true",lineColor:"#888"}}),a("v-uni-view",{staticClass:"rate-center"},[a("uni-rate",{attrs:{size:"18",allowHalf:"true","active-color":"#FA800A",color:"#666666"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.cooperateChange.apply(void 0,arguments)}},model:{value:e.cooperate,callback:function(t){e.cooperate=t},expression:"cooperate"}})],1),a("u-divider",{attrs:{hairline:"false",dashed:"true",lineColor:"#888"}}),a("v-uni-view",{staticClass:"box-bottom"},[a("v-uni-view",{staticClass:"bottom-item",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.cancelEvaluateFun.apply(void 0,arguments)}}},[e._v("取消评价")]),a("v-uni-view",{staticClass:"bottom-item",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.submitEvaluateFun.apply(void 0,arguments)}}},[e._v("提交评价")])],1)],1)],1)],1)},o=[]},d5e2:function(e,t,a){"use strict";a.r(t);var i=a("6b83"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},db1b:function(e,t,a){"use strict";a.r(t);var i=a("463d"),n=a("d5e2");for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);a("b2c5");var c=a("f0c5"),s=Object(c["a"])(n["default"],i["b"],i["c"],!1,null,"588f4815",null,!1,i["a"],void 0);t["default"]=s.exports},fc38:function(e,t,a){"use strict";a.r(t);var i=a("cd33"),n=a("8fcc");for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);a("6681");var c=a("f0c5"),s=Object(c["a"])(n["default"],i["b"],i["c"],!1,null,"d8029570",null,!1,i["a"],void 0);t["default"]=s.exports}}]);