require('../../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["bundle/pages/take_photo/take_images"],{"097b":function(t,e,n){"use strict";var s=n("6ac1"),u=n.n(s);u.a},"33d1":function(t,e,n){"use strict";(function(t,e){var s=n("4ea4");n("aecd");s(n("66fd"));var u=s(n("5668"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(u.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},5668:function(t,e,n){"use strict";n.r(e);var s=n("d37c"),u=n("8f3f");for(var i in u)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return u[t]}))}(i);n("097b");var a=n("f0c5"),c=Object(a["a"])(u["default"],s["b"],s["c"],!1,null,"b5918dfe",null,!1,s["a"],void 0);e["default"]=c.exports},"6ac1":function(t,e,n){},"8f3f":function(t,e,n){"use strict";n.r(e);var s=n("ac18"),u=n.n(s);for(var i in s)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return s[t]}))}(i);e["default"]=u.a},ac18:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{result:[""],maxCount:4}},mounted:function(){"image"==this.type&&this.$set(this,"result",this.result.splice(1,1)),this.$emit("change",this.result)},methods:{addImage:function(){var e=this;this.result.length>=this.maxCount?t.showToast({title:"最多上传四张图片",icon:"none",complete:function(t){e.$emit("change",e.result)}}):t.chooseImage({count:4,success:function(t){for(var n=[],s=0;s<e.result.length;s++)n.push(e.result[s]);if(e.maxSelect>0)for(s=0;s<Math.min(e.maxSelect-e.result.length,t.tempFilePaths.length);s++)n.push(t.tempFilePaths[s]);else for(s=0;s<t.tempFilePaths.length;s++)n.push(t.tempFilePaths[s]);e.$set(e,"result",n),e.$emit("change",e.result)},fail:function(t){e.$emit("change",e.result)}})},imageMenu:function(e){var n=this;t.showActionSheet({itemList:["向前移动","向后移动","替换图片","删除图片"],success:function(s){if(console.log(s.tapIndex),0==s.tapIndex)if(e>0){var u=n.result,i=u[e];u[e]=u[e-1],u[e-1]=i;for(var a=[],c=0;c<u.length;c++)a.push(u[c]);n.$set(n,"result",a),n.$emit("change",n.result)}else t.showToast({title:"无可替换",icon:"none",complete:function(t){n.$emit("change",n.result)}});else if(1==s.tapIndex)if(e<n.result.length-1){u=n.result,i=u[e];u[e]=u[e+1],u[e+1]=i;for(a=[],c=0;c<u.length;c++)a.push(u[c]);n.$set(n,"result",a),n.$emit("change",n.result)}else t.showToast({title:"无可替换",icon:"none",complete:function(t){n.$emit("change",n.result)}});else 2==s.tapIndex?t.chooseImage({count:4,success:function(t){for(var s=n.result,u=[],i=0;i<s.length;i++)e!=i?u.push(s[i]):u.push(t.tempFilePaths[0]);n.$set(n,"result",u),n.$emit("change",n.result)},fail:function(t){n.$emit("change",n.result)}}):3==s.tapIndex&&t.showModal({title:"消息",content:"您确认删除该图片吗？",success:function(t){if(t.confirm){for(var s=n.result,u=[],i=0;i<s.length;i++)e!=i&&u.push(s[i]);n.$set(n,"result",u),n.$emit("change",n.result)}else n.$emit("change",n.result)},fail:function(t){n.$emit("change",n.result)}})}})},viewImage:function(e){t.previewImage({urls:this.result,current:e})},removeImage:function(){t.showModal({title:"消息",content:"您确认删除该图片吗？",success:function(t){if(t.confirm){for(var e=that.result,n=[],s=0;s<e.length;s++)i!=s&&n.push(e[s]);that.$set(that,"result",n),that.$emit("change",that.result)}else that.$emit("change",that.result)},fail:function(t){that.$emit("change",that.result)}})}},props:{type:{type:String,default:"image"},maxSelect:{type:Number,default:-1}}};e.default=n}).call(this,n("543d")["default"])},d37c:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return u})),n.d(e,"a",(function(){}));var s=function(){var t=this.$createElement,e=(this._self._c,this.maxSelect>this.result.length||-1==this.maxSelect);this.$mp.data=Object.assign({},{$root:{g0:e}})},u=[]}},[["33d1","common/runtime","common/vendor"]]]);