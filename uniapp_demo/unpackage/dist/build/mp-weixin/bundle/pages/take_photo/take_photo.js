require('../../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["bundle/pages/take_photo/take_photo"],{"0a3e":function(e,o,t){"use strict";(function(e,o){var s=t("4ea4");t("d108");s(t("66fd"));var h=s(t("b1aa"));e.__webpack_require_UNI_MP_PLUGIN__=t,o(h.default)}).call(this,t("bc2e")["default"],t("543d")["createPage"])},3673:function(e,o,t){"use strict";(function(e){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var t={data:function(){return{choosePhotoes:[""],maxCount:4}},mounted:function(){"image"==this.type&&this.$set(this,"choosePhotoes",this.choosePhotoes.splice(1,1)),this.$emit("changePhotoes",this.choosePhotoes)},methods:{addImage:function(){var o=this;this.choosePhotoes.length>=this.maxCount?e.showToast({title:"最多上传四张图片",icon:"none",complete:function(e){o.$emit("changePhotoes",o.choosePhotoes)}}):e.chooseImage({count:4,success:function(e){for(var t=[],s=0;s<o.choosePhotoes.length;s++)t.push(o.choosePhotoes[s]);if(o.maxSelect>0)for(s=0;s<Math.min(o.maxSelect-o.choosePhotoes.length,e.tempFilePaths.length);s++)t.push(e.tempFilePaths[s]);else for(s=0;s<e.tempFilePaths.length;s++)t.push(e.tempFilePaths[s]);o.$set(o,"choosePhotoes",t),o.$emit("changePhotoes",o.choosePhotoes)},fail:function(e){console.log("选取图片err",e),o.$emit("changePhotoes",o.choosePhotoes)}})},imageMenu:function(o){var t=this;e.showActionSheet({itemList:["向前移动","向后移动","替换图片","删除图片"],success:function(s){if(console.log(s.tapIndex),0==s.tapIndex)if(o>0){var h=t.choosePhotoes,n=h[o];h[o]=h[o-1],h[o-1]=n;for(var c=[],a=0;a<h.length;a++)c.push(h[a]);t.$set(t,"choosePhotoes",c),t.$emit("changePhotoes",t.choosePhotoes)}else e.showToast({title:"无可替换",icon:"none",complete:function(e){t.$emit("changePhotoes",t.choosePhotoes)}});else if(1==s.tapIndex)if(o<t.choosePhotoes.length-1){h=t.choosePhotoes,n=h[o];h[o]=h[o+1],h[o+1]=n;for(c=[],a=0;a<h.length;a++)c.push(h[a]);t.$set(t,"choosePhotoes",c),t.$emit("changePhotoes",t.choosePhotoes)}else e.showToast({title:"无可替换",icon:"none",complete:function(e){t.$emit("changePhotoes",t.choosePhotoes)}});else 2==s.tapIndex?e.chooseImage({count:4,success:function(e){for(var s=t.choosePhotoes,h=[],n=0;n<s.length;n++)o!=n?h.push(s[n]):h.push(e.tempFilePaths[0]);t.$set(t,"choosePhotoes",h),t.$emit("changePhotoes",t.choosePhotoes)},fail:function(e){t.$emit("changePhotoes",t.choosePhotoes)}}):3==s.tapIndex&&e.showModal({title:"消息",content:"您确认删除该图片吗？",success:function(e){if(e.confirm){for(var s=t.choosePhotoes,h=[],n=0;n<s.length;n++)o!=n&&h.push(s[n]);t.$set(t,"choosePhotoes",h),t.$emit("changePhotoes",t.choosePhotoes)}else t.$emit("changePhotoes",t.choosePhotoes)},fail:function(e){t.$emit("changePhotoes",t.choosePhotoes)}})}})},viewImage:function(o){e.previewImage({urls:this.choosePhotoes,current:o})},removeImage:function(){e.showModal({title:"消息",content:"您确认删除该图片吗？",success:function(e){if(e.confirm){for(var o=that.choosePhotoes,t=[],s=0;s<o.length;s++)i!=s&&t.push(o[s]);that.$set(that,"choosePhotoes",t),that.$emit("changePhotoes",that.choosePhotoes)}else that.$emit("changePhotoes",that.choosePhotoes)},fail:function(e){that.$emit("changePhotoes",that.choosePhotoes)}})}},props:{type:{type:String,default:"image"},maxSelect:{type:Number,default:-1}}};o.default=t}).call(this,t("543d")["default"])},"7f68":function(e,o,t){"use strict";t.r(o);var s=t("3673"),h=t.n(s);for(var n in s)["default"].indexOf(n)<0&&function(e){t.d(o,e,(function(){return s[e]}))}(n);o["default"]=h.a},ade4:function(e,o,t){"use strict";var s=t("f0d0"),h=t.n(s);h.a},b1aa:function(e,o,t){"use strict";t.r(o);var s=t("b449"),h=t("7f68");for(var n in h)["default"].indexOf(n)<0&&function(e){t.d(o,e,(function(){return h[e]}))}(n);t("ade4");var c=t("f0c5"),a=Object(c["a"])(h["default"],s["b"],s["c"],!1,null,"af8f118c",null,!1,s["a"],void 0);o["default"]=a.exports},b449:function(e,o,t){"use strict";t.d(o,"b",(function(){return s})),t.d(o,"c",(function(){return h})),t.d(o,"a",(function(){}));var s=function(){var e=this.$createElement,o=(this._self._c,this.maxSelect>this.choosePhotoes.length||-1==this.maxSelect);this.$mp.data=Object.assign({},{$root:{g0:o}})},h=[]},f0d0:function(e,o,t){}},[["0a3e","common/runtime","common/vendor"]]]);