require('../../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["bundle/pages/upload_img/upload_photo"],{"122f":function(e,o,n){"use strict";n.d(o,"b",(function(){return i})),n.d(o,"c",(function(){return c})),n.d(o,"a",(function(){return t}));var t={uPopup:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-popup/u-popup")]).then(n.bind(null,"5fca"))},uDivider:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-divider/u-divider")]).then(n.bind(null,"8982"))},uniRate:function(){return n.e("uni_modules/uni-rate/components/uni-rate/uni-rate").then(n.bind(null,"83fc"))}},i=function(){var e=this.$createElement;this._self._c},c=[]},"562a":function(e,o,n){"use strict";var t=n("745f"),i=n.n(t);i.a},"745f":function(e,o,n){},"9a57":function(e,o,n){"use strict";n.r(o);var t=n("c355"),i=n.n(t);for(var c in t)["default"].indexOf(c)<0&&function(e){n.d(o,e,(function(){return t[e]}))}(c);o["default"]=i.a},b294:function(e,o,n){"use strict";n.r(o);var t=n("122f"),i=n("9a57");for(var c in i)["default"].indexOf(c)<0&&function(e){n.d(o,e,(function(){return i[e]}))}(c);n("562a");var s=n("f0c5"),a=Object(s["a"])(i["default"],t["b"],t["c"],!1,null,"d187ebec",null,!1,t["a"],void 0);o["default"]=a.exports},c355:function(e,o,n){"use strict";(function(e){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n=null,t={data:function(){return{currentIndex:"0",feedbackTypeList:[{code:"0",name:"BUG反馈"},{code:"1",name:"功能建议"},{code:"2",name:"其他问题"}],feedbackValue:"",conLength:0,tempFileList:[],tempFileObject:[],maxChooseImages:5,cooperate:0}},onLoad:function(){n=this},watch:{feedbackValue:function(e,o){console.log("计算属性",e),this.conLength=e.length}},methods:{cancelEvaluateFun:function(){this.$refs.popup.close(),console.log(" 评价患者 取消评价")},submitEvaluateFun:function(){this.$refs.popup.close(),console.log(" 评价患者 提交评价")},cooperateChange:function(e){console.log(" 评价患者星",e,this.cooperate)},feedbackTypeHandle:function(e){console.log("[反馈类型]",e),this.currentIndex=e},getFeedbackMessageHandle:function(e){console.log("[反馈内容]",e),this.feedbackValue=e.detail.value},chooseImageHandle:function(){console.log("[上传图片]"),n.tempFileList.length<n.maxChooseImages?e.chooseMedia({count:n.maxChooseImages,mediaType:["image"],sizeType:["original","compressed"],sourceType:["album"],camera:"back",success:function(o){var t=o.tempFiles;t.forEach((function(o,t){n.tempFileList.length<n.maxChooseImages?(console.log("for in ",o),e.compressImage({src:o.tempFilePath,quality:60,success:function(e){console.log("压缩图片compressI",e),n.tempFileList.push({path:e.tempFilePath})}})):console.log("图片数已达到5张")}))}}):e.showToast({title:"最大5张",icon:"none"})},chooseImageHandleH5:function(){console.log("[选择图片]"),n.tempFileList.length<n.maxChooseImages?e.chooseMedia({count:n.maxChooseImages,mediaType:["image"],sizeType:["original","compressed"],sourceType:["album"],camera:"back",success:function(o){var t=o.tempFiles;t.forEach((function(o,t){n.tempFileList.length<n.maxChooseImages?(console.log("for in ",o),n.translate(o.tempFilePath,.5,(function(o){e.getFileInfo({filePath:imgUrl,success:function(e){console.log("压缩后",e.size)}}),n.tempFileList.push({path:o})}))):console.log("图片数已达到5张")}))}}):e.showToast({title:"最大5张",icon:"none"})},deleteImgHandle:function(e){console.log("[删除图片]"),this.tempFileList.splice(e,1),console.log(this.tempFileList)},submitHandle:function(){console.log("[反馈意见]"),console.log(this.tempFileList),this.savaImageFun()},savaImageFun:function(){n.tempFileList.forEach((function(o,n){console.log("保存图片item",o),e.saveImageToPhotosAlbum({filePath:o.path,success:function(o){e.showToast({title:"保存成功",icon:"none"})},fail:function(o){e.showToast({title:"保存失败",icon:"none"})}})}))},chooseCompressImageFun:function(){n.tempFileList.forEach((function(o,n){console.log("保存图片item",o),e.saveImageToPhotosAlbum({filePath:o.path,success:function(o){e.showToast({title:"保存成功",icon:"none"})},fail:function(o){e.showToast({title:"保存失败",icon:"none"})}})}))}}};o.default=t}).call(this,n("543d")["default"])},f5be:function(e,o,n){"use strict";(function(e,o){var t=n("4ea4");n("d108");t(n("66fd"));var i=t(n("b294"));e.__webpack_require_UNI_MP_PLUGIN__=n,o(i.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])}},[["f5be","common/runtime","common/vendor"]]]);