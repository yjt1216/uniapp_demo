require('../../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["bundle_b/pages/chart_demo/china_map"],{"0c89":function(t,e,a){"use strict";var n=a("e2ac"),o=a.n(n);o.a},"0f8c":function(t,e,a){"use strict";(function(t){var n=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(a("6ae6")),r=n(a("e1b16"));function i(t,e,a,n,o,r,i){var u=t,c=e;return 1==i&&(u=20037508.34*t/180,c=Math.log(Math.tan((90+e)*Math.PI/360))/(Math.PI/180),c=20037508.34*c/180),{x:(u-a.xMin)*n+o,y:(a.yMax-c)*n+r}}var u={data:function(){return{opts:{update:!0,fontSize:10,extra:{map:{mercator:!0}}},chartData:{series:[]},markPoints:[],layout:"china"}},onLoad:function(){this.drawChina()},methods:{drawChina:function(){var e=this;t.setNavigationBarTitle({title:"地图外部自定义标记点"}),setTimeout((function(){for(var t=o.default.features,a=0;a<t.length;a++)t[a].value=Math.floor(1e3*Math.random()),t[a].fillOpacity=t[a].value/1e3,t[a].color="#0D9FD8";e.chartData={series:t}}),100)},complete:function(t){if(console.log("complete",t),"china"===this.layout){for(var e=[{latitude:44.315561,longitude:114.059024,value:t.opts.series[4].value,name:"内蒙古"},{latitude:35.726402,longitude:96.043531,value:t.opts.series[28].value,name:"青海"}],a=t.opts.chartData.mapData,n=0;n<e.length;n++){var r=i(e[n].longitude,e[n].latitude,a.bounds,a.scale,a.xoffset,a.yoffset,a.mercator);e[n].x=r.x,e[n].y=r.y}console.log("markPoints",e),this.markPoints=e;var u=o.default.features[14].properties.centroid;i(u[0],u[1],a.bounds,a.scale,a.xoffset,a.yoffset,a.mercator)}},clickPoint:function(e){console.log("clickPoint",e),t.showModal({title:e.name,content:"销售金额："+e.value+"万元",success:function(t){}})},getIndex:function(e){console.log(this.layout),console.log("getIndex",e.currentIndex,o.default.features[25]),console.log(this.layout),"china"==this.layout?e.currentIndex>-1&&(this.layout="province",this.drawProvince(o.default.features[e.currentIndex].properties)):-1==e.currentIndex?(this.layout="china",this.drawChina()):t.showModal({title:this.chartData.series[e.currentIndex].properties.name,content:"销售金额："+this.chartData.series[e.currentIndex].value+"万元",success:function(t){}})},drawProvince:function(e){var a=this;t.setNavigationBarTitle({title:"点空白返回中国地图"}),this.chartData={series:[]},this.opts={fontSize:10,extra:{map:{mercator:!0}}},this.markPoints=[],t.request({url:"localhost?adcode="+e.adcode,complete:function(t){for(var e=r.default.features,n=0;n<e.length;n++)e[n].value=Math.floor(1e3*Math.random()),e[n].fillOpacity=e[n].value/1e3,e[n].color="#0D9FD8";a.chartData={series:e}}})}}};e.default=u}).call(this,a("543d")["default"])},9357:function(t,e,a){"use strict";a.r(e);var n=a("0f8c"),o=a.n(n);for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);e["default"]=o.a},a238:function(t,e,a){"use strict";(function(t,e){var n=a("4ea4");a("d108");n(a("66fd"));var o=n(a("f623"));t.__webpack_require_UNI_MP_PLUGIN__=a,e(o.default)}).call(this,a("bc2e")["default"],a("543d")["createPage"])},e2ac:function(t,e,a){},e540:function(t,e,a){"use strict";a.d(e,"b",(function(){return o})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return n}));var n={uNavbar:function(){return Promise.all([a.e("common/vendor"),a.e("uni_modules/uview-ui/components/u-navbar/u-navbar")]).then(a.bind(null,"b1b6"))}},o=function(){var t=this.$createElement;this._self._c},r=[]},f623:function(t,e,a){"use strict";a.r(e);var n=a("e540"),o=a("9357");for(var r in o)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return o[t]}))}(r);a("0c89");var i=a("f0c5"),u=Object(i["a"])(o["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);e["default"]=u.exports}},[["a238","common/runtime","common/vendor","bundle_b/common/vendor"]]]);