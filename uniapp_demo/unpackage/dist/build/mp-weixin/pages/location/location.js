(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/location/location"],{"35e3":function(n,t,e){"use strict";e.d(t,"b",(function(){return u})),e.d(t,"c",(function(){return c})),e.d(t,"a",(function(){return o}));var o={uniCard:function(){return e.e("uni_modules/uni-card/components/uni-card/uni-card").then(e.bind(null,"253d"))},uniIcons:function(){return Promise.all([e.e("common/vendor"),e.e("uni_modules/uni-icons/components/uni-icons/uni-icons")]).then(e.bind(null,"685f"))}},u=function(){var n=this.$createElement;this._self._c},c=[]},6615:function(n,t,e){"use strict";var o=e("dac3"),u=e.n(o);u.a},"69e4":function(n,t,e){"use strict";(function(n,t){var o=e("4ea4");e("aecd");o(e("66fd"));var u=o(e("9631"));n.__webpack_require_UNI_MP_PLUGIN__=e,t(u.default)}).call(this,e("bc2e")["default"],e("543d")["createPage"])},9631:function(n,t,e){"use strict";e.r(t);var o=e("35e3"),u=e("bb0f");for(var c in u)["default"].indexOf(c)<0&&function(n){e.d(t,n,(function(){return u[n]}))}(c);e("6615");var i=e("f0c5"),a=Object(i["a"])(u["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],void 0);t["default"]=a.exports},bb0f:function(n,t,e){"use strict";e.r(t);var o=e("f4bc"),u=e.n(o);for(var c in o)["default"].indexOf(c)<0&&function(n){e.d(t,n,(function(){return o[n]}))}(c);t["default"]=u.a},dac3:function(n,t,e){},f4bc:function(n,t,e){"use strict";(function(n,o){var u=e("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=u(e("2eee")),i=u(e("c973")),a=e("f66b"),s=e("d3ef"),r={data:function(){return{loading:!1,isAuth:-1,studentInfo:{latitude:"",longitude:"",address:""},schoolInfo:{latitude:"",longitude:"",address:""},mapInstance:null}},computed:{isChooseTarget:function(){return this.schoolInfo.latitude&&this.schoolInfo.longitude}},onLoad:function(){var n=this;return(0,i.default)(c.default.mark((function t(){return c.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n.mapInstance=new s({key:"H42BZ-XO4R3-F2L33-OQOQY-NTHSE-Y7F52"}),n.getLocationInfo();case 2:case"end":return t.stop()}}),t)})))()},methods:{chooseLocation:function(){var t=this;n.chooseLocation({success:function(n){console.log("选择定位位置res",n);var e=n.address,o=n.latitude,u=n.longitude,c=n.name;t.schoolInfo.latitude=o,t.schoolInfo.longitude=u,t.schoolInfo.address=e+c},fail:function(n){console.log("选择定位位置失败error",n)}})},getLocationInfo:function(){var t=this;this.loading=!0,n.getLocation({type:"gcj02",success:function(n){var e=n.latitude,o=n.longitude;t.studentInfo.latitude=e,t.studentInfo.longitude=o,t.mapInstance.reverseGeocoder({location:{latitude:e,longitude:o},success:function(n){console.log(n),t.studentInfo.address=n.result.address,t.loading=!1}})}})},reGrantAuth:function(){var t=this;return(0,i.default)(c.default.mark((function e(){var u;return c.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,a.getLocationAuth)();case 2:u=e.sent,u?n.showToast({title:"已授权",duration:500,icon:"none"}):o.openSetting({success:function(n){n.authSetting["scope.userLocation"]&&(t.getLocationInfo(),t.isAuth=1)}});case 4:case"end":return e.stop()}}),e)})))()}}};t.default=r}).call(this,e("543d")["default"],e("bc2e")["default"])}},[["69e4","common/runtime","common/vendor"]]]);