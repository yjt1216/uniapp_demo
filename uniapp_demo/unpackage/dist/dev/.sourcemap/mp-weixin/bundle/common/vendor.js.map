{"version":3,"sources":["uni-app:///js_sdk/mmmm-image-tools/index.js","uni-app:///uni_modules/mescroll-uni/components/mescroll-uni/mixins/mescroll-more-item.js"],"names":["getLocalFilePath","path","indexOf","localFilePath","plus","io","convertAbsoluteFileSystem","substr","dataUrlToBase64","str","array","split","length","index","getNewFileId","Date","now","String","biggerThan","v1","v2","v1Array","v2Array","update","diff","pathToBase64","Promise","resolve","reject","window","FileReader","xhr","XMLHttpRequest","open","responseType","onload","status","fileReader","e","target","result","onerror","readAsDataURL","response","send","canvas","document","createElement","c2x","getContext","img","Image","width","height","drawImage","toDataURL","src","resolveLocalFileSystemURL","entry","file","data","error","wx","canIUse","getFileSystemManager","readFile","filePath","encoding","success","res","fail","Error","base64ToPath","base64","type","match","atob","n","Uint8Array","charCodeAt","URL","webkitURL","createObjectURL","Blob","extName","fileName","basePath","dirPath","os","name","runtime","innerVersion","getDirectory","create","exclusive","getFile","createWriter","writer","onwrite","seek","writeAsBinary","bitmap","nativeObj","Bitmap","loadBase64Data","save","clear","env","USER_DATA_PATH","writeFile","MescrollMoreItemMixin","props","i","Number","default","downOption","auto","upOption","isInit","watch","val","mescrollTrigger","methods","mescrollInit","mescroll","optDown","use","triggerDownScroll","triggerUpScroll"],"mappings":"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","file":"bundle/common/vendor.js","sourcesContent":["function getLocalFilePath(path) {\n    if (path.indexOf('_www') === 0 || path.indexOf('_doc') === 0 || path.indexOf('_documents') === 0 || path.indexOf('_downloads') === 0) {\n        return path\n    }\n    if (path.indexOf('file://') === 0) {\n        return path\n    }\n    if (path.indexOf('/storage/emulated/0/') === 0) {\n        return path\n    }\n    if (path.indexOf('/') === 0) {\n        var localFilePath = plus.io.convertAbsoluteFileSystem(path)\n        if (localFilePath !== path) {\n            return localFilePath\n        } else {\n            path = path.substr(1)\n        }\n    }\n    return '_www/' + path\n}\n\nfunction dataUrlToBase64(str) {\n    var array = str.split(',')\n    return array[array.length - 1]\n}\n\nvar index = 0\nfunction getNewFileId() {\n    return Date.now() + String(index++)\n}\n\nfunction biggerThan(v1, v2) {\n    var v1Array = v1.split('.')\n    var v2Array = v2.split('.')\n    var update = false\n    for (var index = 0; index < v2Array.length; index++) {\n        var diff = v1Array[index] - v2Array[index]\n        if (diff !== 0) {\n            update = diff > 0\n            break\n        }\n    }\n    return update\n}\n\nexport function pathToBase64(path) {\n    return new Promise(function(resolve, reject) {\n        if (typeof window === 'object' && 'document' in window) {\n            if (typeof FileReader === 'function') {\n                var xhr = new XMLHttpRequest()\n                xhr.open('GET', path, true)\n                xhr.responseType = 'blob'\n                xhr.onload = function() {\n                    if (this.status === 200) {\n                        let fileReader = new FileReader()\n                        fileReader.onload = function(e) {\n                            resolve(e.target.result)\n                        }\n                        fileReader.onerror = reject\n                        fileReader.readAsDataURL(this.response)\n                    }\n                }\n                xhr.onerror = reject\n                xhr.send()\n                return\n            }\n            var canvas = document.createElement('canvas')\n            var c2x = canvas.getContext('2d')\n            var img = new Image\n            img.onload = function() {\n                canvas.width = img.width\n                canvas.height = img.height\n                c2x.drawImage(img, 0, 0)\n                resolve(canvas.toDataURL())\n                canvas.height = canvas.width = 0\n            }\n            img.onerror = reject\n            img.src = path\n            return\n        }\n        if (typeof plus === 'object') {\n            plus.io.resolveLocalFileSystemURL(getLocalFilePath(path), function(entry) {\n                entry.file(function(file) {\n                    var fileReader = new plus.io.FileReader()\n                    fileReader.onload = function(data) {\n                        resolve(data.target.result)\n                    }\n                    fileReader.onerror = function(error) {\n                        reject(error)\n                    }\n                    fileReader.readAsDataURL(file)\n                }, function(error) {\n                    reject(error)\n                })\n            }, function(error) {\n                reject(error)\n            })\n            return\n        }\n        if (typeof wx === 'object' && wx.canIUse('getFileSystemManager')) {\n            wx.getFileSystemManager().readFile({\n                filePath: path,\n                encoding: 'base64',\n                success: function(res) {\n                    resolve('data:image/png;base64,' + res.data)\n                },\n                fail: function(error) {\n                    reject(error)\n                }\n            })\n            return\n        }\n        reject(new Error('not support'))\n    })\n}\n\nexport function base64ToPath(base64) {\n    return new Promise(function(resolve, reject) {\n        if (typeof window === 'object' && 'document' in window) {\n            base64 = base64.split(',')\n            var type = base64[0].match(/:(.*?);/)[1]\n            var str = atob(base64[1])\n            var n = str.length\n            var array = new Uint8Array(n)\n            while (n--) {\n                array[n] = str.charCodeAt(n)\n            }\n            return resolve((window.URL || window.webkitURL).createObjectURL(new Blob([array], { type: type })))\n        }\n        var extName = base64.split(',')[0].match(/data\\:\\S+\\/(\\S+);/)\n        if (extName) {\n            extName = extName[1]\n        } else {\n            reject(new Error('base64 error'))\n        }\n        var fileName = getNewFileId() + '.' + extName\n        if (typeof plus === 'object') {\n            var basePath = '_doc'\n            var dirPath = 'uniapp_temp'\n            var filePath = basePath + '/' + dirPath + '/' + fileName\n            if (!biggerThan(plus.os.name === 'Android' ? '1.9.9.80627' : '1.9.9.80472', plus.runtime.innerVersion)) {\n                plus.io.resolveLocalFileSystemURL(basePath, function(entry) {\n                    entry.getDirectory(dirPath, {\n                        create: true,\n                        exclusive: false,\n                    }, function(entry) {\n                        entry.getFile(fileName, {\n                            create: true,\n                            exclusive: false,\n                        }, function(entry) {\n                            entry.createWriter(function(writer) {\n                                writer.onwrite = function() {\n                                    resolve(filePath)\n                                }\n                                writer.onerror = reject\n                                writer.seek(0)\n                                writer.writeAsBinary(dataUrlToBase64(base64))\n                            }, reject)\n                        }, reject)\n                    }, reject)\n                }, reject)\n                return\n            }\n            var bitmap = new plus.nativeObj.Bitmap(fileName)\n            bitmap.loadBase64Data(base64, function() {\n                bitmap.save(filePath, {}, function() {\n                    bitmap.clear()\n                    resolve(filePath)\n                }, function(error) {\n                    bitmap.clear()\n                    reject(error)\n                })\n            }, function(error) {\n                bitmap.clear()\n                reject(error)\n            })\n            return\n        }\n        if (typeof wx === 'object' && wx.canIUse('getFileSystemManager')) {\n            var filePath = wx.env.USER_DATA_PATH + '/' + fileName\n            wx.getFileSystemManager().writeFile({\n                filePath: filePath,\n                data: dataUrlToBase64(base64),\n                encoding: 'base64',\n                success: function() {\n                    resolve(filePath)\n                },\n                fail: function(error) {\n                    reject(error)\n                }\n            })\n            return\n        }\n        reject(new Error('not support'))\n    })\n}","/**\r\n * mescroll-more-item的mixins, 仅在多个 mescroll-body 写在子组件时使用 (参考 mescroll-more 案例)\r\n */\r\nconst MescrollMoreItemMixin = {\r\n\t// 支付宝小程序不支持props的mixin,需写在具体的页面中\r\n\r\n\tprops:{\r\n\t\ti: Number, // 每个tab页的专属下标\r\n\t\tindex: { // 当前tab的下标\r\n\t\t\ttype: Number,\r\n\t\t\tdefault(){\r\n\t\t\t\treturn 0\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tdownOption:{\r\n\t\t\t\tauto:false // 不自动加载\r\n\t\t\t},\r\n\t\t\tupOption:{\r\n\t\t\t\tauto:false // 不自动加载\r\n\t\t\t},\r\n\t\t\tisInit: false // 当前tab是否已初始化\r\n\t\t}\r\n\t},\r\n\twatch:{\r\n\t\t// 监听下标的变化\r\n\t\tindex(val){\r\n\t\t\tif (this.i === val && !this.isInit) this.mescrollTrigger()\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\t// mescroll组件初始化的回调,可获取到mescroll对象 (覆盖mescroll-mixins.js的mescrollInit, 为了标记isInit)\r\n\t\tmescrollInit(mescroll) {\r\n\t\t\tthis.mescroll = mescroll;\r\n\t\t\t// 自动加载当前tab的数据\r\n\t\t\tif(this.i === this.index){\r\n\t\t\t\tthis.mescrollTrigger()\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 主动触发加载\r\n\t\tmescrollTrigger(){\r\n\t\t\tthis.isInit = true; // 标记为true\r\n\t\t\tif (this.mescroll) {\r\n\t\t\t\tif (this.mescroll.optDown.use) {\r\n\t\t\t\t\tthis.mescroll.triggerDownScroll();\r\n\t\t\t\t} else{\r\n\t\t\t\t\tthis.mescroll.triggerUpScroll();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default MescrollMoreItemMixin;\r\n"],"sourceRoot":""}