{"version":3,"sources":["uni-app:///uni_modules/mescroll-uni/components/mescroll-uni/mixins/mescroll-more-item.js"],"names":["MescrollMoreItemMixin","props","i","Number","index","type","default","data","downOption","auto","upOption","isInit","watch","val","mescrollTrigger","methods","mescrollInit","mescroll","optDown","use","triggerDownScroll","triggerUpScroll"],"mappings":";;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA,IAAMA,qBAAqB,GAAG;EAC7B;;EAEAC,KAAK,EAAC;IACLC,CAAC,EAAEC,MAAM;IAAE;IACXC,KAAK,EAAE;MAAE;MACRC,IAAI,EAAEF,MAAM;MACZG,OAAO,sBAAE;QACR,OAAO,CAAC;MACT;IACD;EACD,CAAC;EAEDC,IAAI,kBAAG;IACN,OAAO;MACNC,UAAU,EAAC;QACVC,IAAI,EAAC,KAAK,CAAC;MACZ,CAAC;;MACDC,QAAQ,EAAC;QACRD,IAAI,EAAC,KAAK,CAAC;MACZ,CAAC;;MACDE,MAAM,EAAE,KAAK,CAAC;IACf,CAAC;EACF,CAAC;;EACDC,KAAK,EAAC;IACL;IACAR,KAAK,iBAACS,GAAG,EAAC;MACT,IAAI,IAAI,CAACX,CAAC,KAAKW,GAAG,IAAI,CAAC,IAAI,CAACF,MAAM,EAAE,IAAI,CAACG,eAAe,EAAE;IAC3D;EACD,CAAC;EACDC,OAAO,EAAE;IACR;IACAC,YAAY,wBAACC,QAAQ,EAAE;MACtB,IAAI,CAACA,QAAQ,GAAGA,QAAQ;MACxB;MACA,IAAG,IAAI,CAACf,CAAC,KAAK,IAAI,CAACE,KAAK,EAAC;QACxB,IAAI,CAACU,eAAe,EAAE;MACvB;IACD,CAAC;IACD;IACAA,eAAe,6BAAE;MAChB,IAAI,CAACH,MAAM,GAAG,IAAI,CAAC,CAAC;MACpB,IAAI,IAAI,CAACM,QAAQ,EAAE;QAClB,IAAI,IAAI,CAACA,QAAQ,CAACC,OAAO,CAACC,GAAG,EAAE;UAC9B,IAAI,CAACF,QAAQ,CAACG,iBAAiB,EAAE;QAClC,CAAC,MAAK;UACL,IAAI,CAACH,QAAQ,CAACI,eAAe,EAAE;QAChC;MACD;IACD;EACD;AACD,CAAC;AAAA,gBAEcrB,qBAAqB;AAAA,4B","file":"bundle/common/vendor.js","sourcesContent":["/**\r\n * mescroll-more-item的mixins, 仅在多个 mescroll-body 写在子组件时使用 (参考 mescroll-more 案例)\r\n */\r\nconst MescrollMoreItemMixin = {\r\n\t// 支付宝小程序不支持props的mixin,需写在具体的页面中\r\n\r\n\tprops:{\r\n\t\ti: Number, // 每个tab页的专属下标\r\n\t\tindex: { // 当前tab的下标\r\n\t\t\ttype: Number,\r\n\t\t\tdefault(){\r\n\t\t\t\treturn 0\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tdownOption:{\r\n\t\t\t\tauto:false // 不自动加载\r\n\t\t\t},\r\n\t\t\tupOption:{\r\n\t\t\t\tauto:false // 不自动加载\r\n\t\t\t},\r\n\t\t\tisInit: false // 当前tab是否已初始化\r\n\t\t}\r\n\t},\r\n\twatch:{\r\n\t\t// 监听下标的变化\r\n\t\tindex(val){\r\n\t\t\tif (this.i === val && !this.isInit) this.mescrollTrigger()\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\t// mescroll组件初始化的回调,可获取到mescroll对象 (覆盖mescroll-mixins.js的mescrollInit, 为了标记isInit)\r\n\t\tmescrollInit(mescroll) {\r\n\t\t\tthis.mescroll = mescroll;\r\n\t\t\t// 自动加载当前tab的数据\r\n\t\t\tif(this.i === this.index){\r\n\t\t\t\tthis.mescrollTrigger()\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 主动触发加载\r\n\t\tmescrollTrigger(){\r\n\t\t\tthis.isInit = true; // 标记为true\r\n\t\t\tif (this.mescroll) {\r\n\t\t\t\tif (this.mescroll.optDown.use) {\r\n\t\t\t\t\tthis.mescroll.triggerDownScroll();\r\n\t\t\t\t} else{\r\n\t\t\t\t\tthis.mescroll.triggerUpScroll();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default MescrollMoreItemMixin;\r\n"],"sourceRoot":""}