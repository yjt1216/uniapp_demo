{"version":3,"sources":["uni-app:///js_sdk/mmmm-image-tools/index.js","uni-app:///common/signature.js","uni-app:///uni_modules/mescroll-uni/components/mescroll-uni/mixins/mescroll-more-item.js"],"names":["getLocalFilePath","path","indexOf","localFilePath","plus","io","convertAbsoluteFileSystem","substr","dataUrlToBase64","str","array","split","length","index","getNewFileId","Date","now","String","biggerThan","v1","v2","v1Array","v2Array","update","diff","pathToBase64","Promise","resolve","reject","window","FileReader","xhr","XMLHttpRequest","open","responseType","onload","status","fileReader","e","target","result","onerror","readAsDataURL","response","send","canvas","document","createElement","c2x","getContext","img","Image","width","height","drawImage","toDataURL","src","resolveLocalFileSystemURL","entry","file","data","error","wx","canIUse","getFileSystemManager","readFile","filePath","encoding","success","res","fail","Error","base64ToPath","base64","type","match","atob","n","Uint8Array","charCodeAt","URL","webkitURL","createObjectURL","Blob","extName","fileName","basePath","dirPath","os","name","runtime","innerVersion","getDirectory","create","exclusive","getFile","createWriter","writer","onwrite","seek","writeAsBinary","bitmap","nativeObj","Bitmap","loadBase64Data","save","clear","env","USER_DATA_PATH","writeFile","Handwriting","opts","top","right","bottom","left","console","log","lineColor","slideValue","canvasName","init","ctx","uni","createCanvasContext","query","createSelectorQuery","in","select","boundingClientRect","rect","canvasWidth","canvasHeight","exec","selectSlideValue","event","mp","touches","setFillStyle","setGlobalAlpha","transparent","currentPoint","x","y","currentLine","unshift","time","getTime","dis","firstTouch","cutArea","pointToLine","cancelable","defaultPrevented","preventDefault","point","lastPoint","distance","changedTouches","info","currentChirography","lineSize","chirography","linePrack","clearRect","draw","line","calcBethelLine","r","radius","x0","x1","x2","y0","y1","y2","r0","r1","r2","len","lastRadius","curveValue","smoothness","Math","min","pressure","lineMin","lineMax","i","t","push","a","ctaCalc","color","bethelDraw","b","sqrt","vx01","vy01","norm","n_x0","n_y0","vx21","vy21","n_x2","n_y2","mx","my","c1x","c1y","c2y","ex","ey","toFixed","parseFloat","is_fill","beginPath","moveTo","undefined","setStrokeStyle","bezierCurveTo","stroke","fill","rej","canvasToTempFilePath","canvasId","tempFilePath","err","MescrollMoreItemMixin","props","Number","default","downOption","auto","upOption","isInit","watch","val","mescrollTrigger","methods","mescrollInit","mescroll","optDown","use","triggerDownScroll","triggerUpScroll"],"mappings":"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","file":"bundle/common/vendor.js","sourcesContent":["function getLocalFilePath(path) {\n    if (path.indexOf('_www') === 0 || path.indexOf('_doc') === 0 || path.indexOf('_documents') === 0 || path.indexOf('_downloads') === 0) {\n        return path\n    }\n    if (path.indexOf('file://') === 0) {\n        return path\n    }\n    if (path.indexOf('/storage/emulated/0/') === 0) {\n        return path\n    }\n    if (path.indexOf('/') === 0) {\n        var localFilePath = plus.io.convertAbsoluteFileSystem(path)\n        if (localFilePath !== path) {\n            return localFilePath\n        } else {\n            path = path.substr(1)\n        }\n    }\n    return '_www/' + path\n}\n\nfunction dataUrlToBase64(str) {\n    var array = str.split(',')\n    return array[array.length - 1]\n}\n\nvar index = 0\nfunction getNewFileId() {\n    return Date.now() + String(index++)\n}\n\nfunction biggerThan(v1, v2) {\n    var v1Array = v1.split('.')\n    var v2Array = v2.split('.')\n    var update = false\n    for (var index = 0; index < v2Array.length; index++) {\n        var diff = v1Array[index] - v2Array[index]\n        if (diff !== 0) {\n            update = diff > 0\n            break\n        }\n    }\n    return update\n}\n\nexport function pathToBase64(path) {\n    return new Promise(function(resolve, reject) {\n        if (typeof window === 'object' && 'document' in window) {\n            if (typeof FileReader === 'function') {\n                var xhr = new XMLHttpRequest()\n                xhr.open('GET', path, true)\n                xhr.responseType = 'blob'\n                xhr.onload = function() {\n                    if (this.status === 200) {\n                        let fileReader = new FileReader()\n                        fileReader.onload = function(e) {\n                            resolve(e.target.result)\n                        }\n                        fileReader.onerror = reject\n                        fileReader.readAsDataURL(this.response)\n                    }\n                }\n                xhr.onerror = reject\n                xhr.send()\n                return\n            }\n            var canvas = document.createElement('canvas')\n            var c2x = canvas.getContext('2d')\n            var img = new Image\n            img.onload = function() {\n                canvas.width = img.width\n                canvas.height = img.height\n                c2x.drawImage(img, 0, 0)\n                resolve(canvas.toDataURL())\n                canvas.height = canvas.width = 0\n            }\n            img.onerror = reject\n            img.src = path\n            return\n        }\n        if (typeof plus === 'object') {\n            plus.io.resolveLocalFileSystemURL(getLocalFilePath(path), function(entry) {\n                entry.file(function(file) {\n                    var fileReader = new plus.io.FileReader()\n                    fileReader.onload = function(data) {\n                        resolve(data.target.result)\n                    }\n                    fileReader.onerror = function(error) {\n                        reject(error)\n                    }\n                    fileReader.readAsDataURL(file)\n                }, function(error) {\n                    reject(error)\n                })\n            }, function(error) {\n                reject(error)\n            })\n            return\n        }\n        if (typeof wx === 'object' && wx.canIUse('getFileSystemManager')) {\n            wx.getFileSystemManager().readFile({\n                filePath: path,\n                encoding: 'base64',\n                success: function(res) {\n                    resolve('data:image/png;base64,' + res.data)\n                },\n                fail: function(error) {\n                    reject(error)\n                }\n            })\n            return\n        }\n        reject(new Error('not support'))\n    })\n}\n\nexport function base64ToPath(base64) {\n    return new Promise(function(resolve, reject) {\n        if (typeof window === 'object' && 'document' in window) {\n            base64 = base64.split(',')\n            var type = base64[0].match(/:(.*?);/)[1]\n            var str = atob(base64[1])\n            var n = str.length\n            var array = new Uint8Array(n)\n            while (n--) {\n                array[n] = str.charCodeAt(n)\n            }\n            return resolve((window.URL || window.webkitURL).createObjectURL(new Blob([array], { type: type })))\n        }\n        var extName = base64.split(',')[0].match(/data\\:\\S+\\/(\\S+);/)\n        if (extName) {\n            extName = extName[1]\n        } else {\n            reject(new Error('base64 error'))\n        }\n        var fileName = getNewFileId() + '.' + extName\n        if (typeof plus === 'object') {\n            var basePath = '_doc'\n            var dirPath = 'uniapp_temp'\n            var filePath = basePath + '/' + dirPath + '/' + fileName\n            if (!biggerThan(plus.os.name === 'Android' ? '1.9.9.80627' : '1.9.9.80472', plus.runtime.innerVersion)) {\n                plus.io.resolveLocalFileSystemURL(basePath, function(entry) {\n                    entry.getDirectory(dirPath, {\n                        create: true,\n                        exclusive: false,\n                    }, function(entry) {\n                        entry.getFile(fileName, {\n                            create: true,\n                            exclusive: false,\n                        }, function(entry) {\n                            entry.createWriter(function(writer) {\n                                writer.onwrite = function() {\n                                    resolve(filePath)\n                                }\n                                writer.onerror = reject\n                                writer.seek(0)\n                                writer.writeAsBinary(dataUrlToBase64(base64))\n                            }, reject)\n                        }, reject)\n                    }, reject)\n                }, reject)\n                return\n            }\n            var bitmap = new plus.nativeObj.Bitmap(fileName)\n            bitmap.loadBase64Data(base64, function() {\n                bitmap.save(filePath, {}, function() {\n                    bitmap.clear()\n                    resolve(filePath)\n                }, function(error) {\n                    bitmap.clear()\n                    reject(error)\n                })\n            }, function(error) {\n                bitmap.clear()\n                reject(error)\n            })\n            return\n        }\n        if (typeof wx === 'object' && wx.canIUse('getFileSystemManager')) {\n            var filePath = wx.env.USER_DATA_PATH + '/' + fileName\n            wx.getFileSystemManager().writeFile({\n                filePath: filePath,\n                data: dataUrlToBase64(base64),\n                encoding: 'base64',\n                success: function() {\n                    resolve(filePath)\n                },\n                fail: function(error) {\n                    reject(error)\n                }\n            })\n            return\n        }\n        reject(new Error('not support'))\n    })\n}","class Handwriting {\n  // 内置数据\n  ctx = '';\n  canvasWidth = 300;\n  canvasHeight = 900;\n  linePrack = []; //划线轨迹 ; 生成线条的实际点\n  currentLine = [];\n  transparent = 1; // 透明度\n  pressure = 0.5; // 默认压力\n  smoothness = 100; //顺滑度，用60的距离来计算速度\n  lineSize = 1.5; // 笔记倍数\n  lineMin = 0.5; // 最小笔画半径\n  lineMax = 2; // 最大笔画半径\n  currentPoint = {};\n  firstTouch = true; // 第一次触发\n  radius = 1; //画圆的半径\n  cutArea = {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  }; //裁剪区域\n  lastPoint = 0;\n  chirography = []; //笔迹\n  startY = 0;\n  deltaY = 0;\n  startValue = 0;\n  constructor(opts) {\n\t\tconsole.log(opts);\n    this.lineColor = opts.lineColor || '#1A1A1A' // 颜色\n    this.slideValue = opts.slideValue || 50\n\t\tthis.canvasName = opts.canvasName || 'handWriting'\n    this.init()\n  }\n  init() {\n    this.ctx = uni.createCanvasContext(this.canvasName)\n    var query = uni.createSelectorQuery().in(this);\n    query.select('.handCenter').boundingClientRect(rect => {\n      console.log('SelectorQuery位置布局信息',rect)\n      this.canvasWidth = rect.width;\n      this.canvasHeight = rect.height;\n    }).exec();\n    this.selectSlideValue(this.slideValue);\n  }\n\n  // 笔迹开始\n  uploadScaleStart(event) {\n\t\tconsole.log('start');\n\t\tlet e = event.mp\n    console.log(e.touches[0])\n    if (e.type != 'touchstart') return false;\n    this.ctx.setFillStyle(this.lineColor); // 初始线条设置颜色\n    this.ctx.setGlobalAlpha(this.transparent); // 设置半透明\n    this.currentPoint = {\n      x: e.touches[0].x,\n      y: e.touches[0].y\n    }\n    this.currentLine.unshift({\n      time: new Date().getTime(),\n      dis: 0,\n      x: this.currentPoint.x,\n      y: this.currentPoint.y\n    })\n    if (this.firstTouch) {\n      this.cutArea = {\n        top: this.currentPoint.y,\n        right: this.currentPoint.x,\n        bottom: this.currentPoint.y,\n        left: this.currentPoint.x\n      }\n      this.firstTouch = false\n    }\n    this.pointToLine(this.currentLine);\n  }\n  // 笔迹移动\n  uploadScaleMove(event) {\n\t\tconsole.log('move');\n\t\tlet e = event.mp\n    if (e.type != 'touchmove') return false;\n    if (e.cancelable) {\n      // 判断默认行为是否已经被禁用\n      if (!e.defaultPrevented) {\n        e.preventDefault();\n      }\n    }\n    let point = {\n      x: e.touches[0].x,\n      y: e.touches[0].y\n    }\n    //测试裁剪\n    if (point.y < this.cutArea.top) {\n      this.cutArea.top = point.y;\n    }\n    if (point.y < 0) this.cutArea.top = 0;\n\n    if (point.x > this.cutArea.right) {\n      this.cutArea.right = point.x;\n    }\n    if (this.canvasWidth - point.x <= 0) {\n      this.cutArea.right = this.canvasWidth;\n    }\n    if (point.y > this.cutArea.bottom) {\n      this.cutArea.bottom = point.y;\n    }\n    if (this.canvasHeight - point.y <= 0) {\n      this.cutArea.bottom = this.canvasHeight;\n    }\n    if (point.x < this.cutArea.left) {\n      this.cutArea.left = point.x;\n    }\n    if (point.x < 0) this.cutArea.left = 0;\n\n    this.lastPoint = this.currentPoint;\n    this.currentPoint = point\n    this.currentLine.unshift({\n      time: new Date().getTime(),\n      dis: this.distance(this.currentPoint, this.lastPoint, 'move'),\n      x: point.x,\n      y: point.y\n    })\n    this.pointToLine(this.currentLine);\n  }\n  // 笔迹结束\n  uploadScaleEnd(event) {\n\t\tlet e = event.mp\n    if (e.type != 'touchend') return 0;\n\t\tconsole.log(e);\n    let point = {\n      x: e.changedTouches[0].x,\n      y: e.changedTouches[0].y\n    }\n\t\t\n    this.lastPoint = this.currentPoint;\n    this.currentPoint = point\n    this.currentLine.unshift({\n      time: new Date().getTime(),\n      dis: this.distance(this.currentPoint, this.lastPoint, 'end'),\n      x: point.x,\n      y: point.y\n    })\n    if (this.currentLine.length > 2) {\n      var info = (this.currentLine[0].time - this.currentLine[this.currentLine.length - 1].time) / this.currentLine.length;\n      //$(\"#info\").text(info.toFixed(2));\n    }\n    //一笔结束，保存笔迹的坐标点，清空，当前笔迹\n    //增加判断是否在手写区域；\n    this.pointToLine(this.currentLine);\n    var currentChirography = {\n      lineSize: this.lineSize,\n      lineColor: this.lineColor\n    };\n    this.chirography.unshift(currentChirography);\n    this.linePrack.unshift(this.currentLine);\n    this.currentLine = []\n  }\n  retDraw() {\n    this.ctx.clearRect(0, 0, 700, 730)\n    this.ctx.draw()\n  }\n\n  //画两点之间的线条；参数为:line，会绘制最近的开始的两个点；\n  pointToLine(line) {\n    this.calcBethelLine(line);\n    // this.calcBethelLine1(line);\n    return;\n  }\n  //计算插值的方式；\n  calcBethelLine(line) {\n    if (line.length <= 1) {\n      line[0].r = this.radius;\n      return;\n    }\n    let x0, x1, x2, y0, y1, y2, r0, r1, r2, len, lastRadius, dis = 0,\n      time = 0,\n      curveValue = 0.5;\n    if (line.length <= 2) {\n      x0 = line[1].x\n      y0 = line[1].y\n      x2 = line[1].x + (line[0].x - line[1].x) * curveValue;\n      y2 = line[1].y + (line[0].y - line[1].y) * curveValue;\n      //x2 = line[1].x;\n      //y2 = line[1].y;\n      x1 = x0 + (x2 - x0) * curveValue;\n      y1 = y0 + (y2 - y0) * curveValue;;\n\n    } else {\n      x0 = line[2].x + (line[1].x - line[2].x) * curveValue;\n      y0 = line[2].y + (line[1].y - line[2].y) * curveValue;\n      x1 = line[1].x;\n      y1 = line[1].y;\n      x2 = x1 + (line[0].x - x1) * curveValue;\n      y2 = y1 + (line[0].y - y1) * curveValue;\n    }\n    //从计算公式看，三个点分别是(x0,y0),(x1,y1),(x2,y2) ；(x1,y1)这个是控制点，控制点不会落在曲线上；实际上，这个点还会手写获取的实际点，却落在曲线上\n    len = this.distance({\n      x: x2,\n      y: y2\n    }, {\n      x: x0,\n      y: y0\n    }, 'calc');\n    lastRadius = this.radius;\n    for (let n = 0; n < line.length - 1; n++) {\n      dis += line[n].dis;\n      time += line[n].time - line[n + 1].time;\n      if (dis > this.smoothness) break;\n    }\n    this.radius = Math.min(time / len * this.pressure + this.lineMin, this.lineMax) * this.lineSize\n    line[0].r = this.radius;\n    //计算笔迹半径；\n    if (line.length <= 2) {\n      r0 = (lastRadius + this.radius) / 2;\n      r1 = r0;\n      r2 = r1;\n      //return;\n    } else {\n      r0 = (line[2].r + line[1].r) / 2;\n      r1 = line[1].r;\n      r2 = (line[1].r + line[0].r) / 2;\n    }\n    let n = 5;\n    let point = [];\n    for (let i = 0; i < n; i++) {\n      let t = i / (n - 1);\n      let x = (1 - t) * (1 - t) * x0 + 2 * t * (1 - t) * x1 + t * t * x2;\n      let y = (1 - t) * (1 - t) * y0 + 2 * t * (1 - t) * y1 + t * t * y2;\n      let r = lastRadius + (this.radius - lastRadius) / n * i;\n      point.push({\n        x: x,\n        y: y,\n        r: r\n      });\n      if (point.length == 3) {\n        let a = this.ctaCalc(point[0].x, point[0].y, point[0].r, point[1].x, point[1].y, point[1].r, point[2].x, point[2].y, point[2].r);\n        a[0].color = this.lineColor;\n        this.bethelDraw(a, 1);\n        point = [{\n          x: x,\n          y: y,\n          r: r\n        }];\n      }\n    }\n  }\n  //求两点之间距离\n  distance(a, b, type) {\n    let x = b.x - a.x;\n    let y = b.y - a.y;\n    return Math.sqrt(x * x + y * y) * 5;\n  }\n  ctaCalc(x0, y0, r0, x1, y1, r1, x2, y2, r2) {\n    let a = [],\n      vx01, vy01, norm, n_x0, n_y0, vx21, vy21, n_x2, n_y2;\n    vx01 = x1 - x0;\n    vy01 = y1 - y0;\n    norm = Math.sqrt(vx01 * vx01 + vy01 * vy01 + 0.0001) * 2;\n    vx01 = vx01 / norm * r0;\n    vy01 = vy01 / norm * r0;\n    n_x0 = vy01;\n    n_y0 = -vx01;\n    vx21 = x1 - x2;\n    vy21 = y1 - y2;\n    norm = Math.sqrt(vx21 * vx21 + vy21 * vy21 + 0.0001) * 2;\n    vx21 = vx21 / norm * r2;\n    vy21 = vy21 / norm * r2;\n    n_x2 = -vy21;\n    n_y2 = vx21;\n    a.push({\n      mx: x0 + n_x0,\n      my: y0 + n_y0,\n      color: \"#1A1A1A\"\n    });\n    a.push({\n      c1x: x1 + n_x0,\n      c1y: y1 + n_y0,\n      c2x: x1 + n_x2,\n      c2y: y1 + n_y2,\n      ex: x2 + n_x2,\n      ey: y2 + n_y2\n    });\n    a.push({\n      c1x: x2 + n_x2 - vx21,\n      c1y: y2 + n_y2 - vy21,\n      c2x: x2 - n_x2 - vx21,\n      c2y: y2 - n_y2 - vy21,\n      ex: x2 - n_x2,\n      ey: y2 - n_y2\n    });\n    a.push({\n      c1x: x1 - n_x2,\n      c1y: y1 - n_y2,\n      c2x: x1 - n_x0,\n      c2y: y1 - n_y0,\n      ex: x0 - n_x0,\n      ey: y0 - n_y0\n    });\n    a.push({\n      c1x: x0 - n_x0 - vx01,\n      c1y: y0 - n_y0 - vy01,\n      c2x: x0 + n_x0 - vx01,\n      c2y: y0 + n_y0 - vy01,\n      ex: x0 + n_x0,\n      ey: y0 + n_y0\n    });\n    a[0].mx = a[0].mx.toFixed(1);\n    a[0].mx = parseFloat(a[0].mx);\n    a[0].my = a[0].my.toFixed(1);\n    a[0].my = parseFloat(a[0].my);\n    for (let i = 1; i < a.length; i++) {\n      a[i].c1x = a[i].c1x.toFixed(1);\n      a[i].c1x = parseFloat(a[i].c1x);\n      a[i].c1y = a[i].c1y.toFixed(1);\n      a[i].c1y = parseFloat(a[i].c1y);\n      a[i].c2x = a[i].c2x.toFixed(1);\n      a[i].c2x = parseFloat(a[i].c2x);\n      a[i].c2y = a[i].c2y.toFixed(1);\n      a[i].c2y = parseFloat(a[i].c2y);\n      a[i].ex = a[i].ex.toFixed(1);\n      a[i].ex = parseFloat(a[i].ex);\n      a[i].ey = a[i].ey.toFixed(1);\n      a[i].ey = parseFloat(a[i].ey);\n    }\n    return a;\n  }\n  bethelDraw(point, is_fill, color) {\n    this.ctx.beginPath();\n    this.ctx.moveTo(point[0].mx, point[0].my);\n    if (undefined != color) {\n      this.ctx.setFillStyle(color);\n      this.ctx.setStrokeStyle(color);\n    } else {\n      this.ctx.setFillStyle(point[0].color);\n      this.ctx.setStrokeStyle(point[0].color);\n    }\n    for (let i = 1; i < point.length; i++) {\n      this.ctx.bezierCurveTo(point[i].c1x, point[i].c1y, point[i].c2x, point[i].c2y, point[i].ex, point[i].ey);\n    }\n    this.ctx.stroke();\n    if (undefined != is_fill) {\n      this.ctx.fill(); //填充图形 ( 后绘制的图形会覆盖前面的图形, 绘制时注意先后顺序 )\n    }\n    this.ctx.draw(true)\n  }\n\n  selectColorEvent(lineColor) {\n    this.lineColor = lineColor;\n  }\n\n  selectSlideValue(slideValue) {\n    switch (slideValue) {\n      case 0:\n        this.lineSize = 0.1;\n        this.lineMin = 0.1;\n        this.lineMax = 0.1;\n        break;\n      case 25:\n        this.lineSize = 1;\n        this.lineMin = 0.5;\n        this.lineMax = 2;\n        break;\n      case 50:\n        this.lineSize = 1.5;\n        this.lineMin = 1;\n        this.lineMax = 3;\n        break;\n      case 75:\n        this.lineSize = 1.5;\n        this.lineMin = 2;\n        this.lineMax = 3.5;\n        break;\n      case 100:\n        this.lineSize = 3;\n        this.lineMin = 2;\n        this.lineMax = 3.5;\n        break;\n    }\n  }\n\t\n\tsaveCanvas(){\n\t\t return new Promise((resolve,rej) => {\n\t\t\tuni.canvasToTempFilePath({\n\t\t\t\tcanvasId: this.canvasName,\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\tconsole.log(res.tempFilePath)\n\t\t\t\t\tresolve(res.tempFilePath);\n\t\t\t\t},\n\t\t\t\t fail:function(err){\n\t\t\t\t\t console.log('图片生成失败：'+err)\n\t\t\t\t\t rej(err);\n\t\t\t\t }\n\t\t\t})\n\t\t})\t\n\t}\t\n}\n\nexport default Handwriting;","/**\r\n * mescroll-more-item的mixins, 仅在多个 mescroll-body 写在子组件时使用 (参考 mescroll-more 案例)\r\n */\r\nconst MescrollMoreItemMixin = {\r\n\t// 支付宝小程序不支持props的mixin,需写在具体的页面中\r\n\r\n\tprops:{\r\n\t\ti: Number, // 每个tab页的专属下标\r\n\t\tindex: { // 当前tab的下标\r\n\t\t\ttype: Number,\r\n\t\t\tdefault(){\r\n\t\t\t\treturn 0\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tdownOption:{\r\n\t\t\t\tauto:false // 不自动加载\r\n\t\t\t},\r\n\t\t\tupOption:{\r\n\t\t\t\tauto:false // 不自动加载\r\n\t\t\t},\r\n\t\t\tisInit: false // 当前tab是否已初始化\r\n\t\t}\r\n\t},\r\n\twatch:{\r\n\t\t// 监听下标的变化\r\n\t\tindex(val){\r\n\t\t\tif (this.i === val && !this.isInit) this.mescrollTrigger()\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\t// mescroll组件初始化的回调,可获取到mescroll对象 (覆盖mescroll-mixins.js的mescrollInit, 为了标记isInit)\r\n\t\tmescrollInit(mescroll) {\r\n\t\t\tthis.mescroll = mescroll;\r\n\t\t\t// 自动加载当前tab的数据\r\n\t\t\tif(this.i === this.index){\r\n\t\t\t\tthis.mescrollTrigger()\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 主动触发加载\r\n\t\tmescrollTrigger(){\r\n\t\t\tthis.isInit = true; // 标记为true\r\n\t\t\tif (this.mescroll) {\r\n\t\t\t\tif (this.mescroll.optDown.use) {\r\n\t\t\t\t\tthis.mescroll.triggerDownScroll();\r\n\t\t\t\t} else{\r\n\t\t\t\t\tthis.mescroll.triggerUpScroll();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default MescrollMoreItemMixin;\r\n"],"sourceRoot":""}