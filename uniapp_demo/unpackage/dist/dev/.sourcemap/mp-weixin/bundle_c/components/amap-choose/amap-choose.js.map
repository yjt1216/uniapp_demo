{"version":3,"sources":["webpack:////Users/wangyunzhu/Desktop/yinjiangtao/uniapp_demo/uniapp_demo/bundle_c/components/amap-choose/amap-choose.vue?5f1f","webpack:////Users/wangyunzhu/Desktop/yinjiangtao/uniapp_demo/uniapp_demo/bundle_c/components/amap-choose/amap-choose.vue?1d36","webpack:////Users/wangyunzhu/Desktop/yinjiangtao/uniapp_demo/uniapp_demo/bundle_c/components/amap-choose/amap-choose.vue?c66f","webpack:////Users/wangyunzhu/Desktop/yinjiangtao/uniapp_demo/uniapp_demo/bundle_c/components/amap-choose/amap-choose.vue?db4f","uni-app:///bundle_c/components/amap-choose/amap-choose.vue","webpack:////Users/wangyunzhu/Desktop/yinjiangtao/uniapp_demo/uniapp_demo/bundle_c/components/amap-choose/amap-choose.vue?9a33"],"names":["renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped","props","color","type","default","keyMap","AMapKeyWeb","initLocation","show","data","list","keyword","timeId","checked","locaiton","showPlace","watch","mounted","script","document","that","methods","loop","setTimeout","inputValue","clearTimeout","cancel","toCancel","confrom","console","address","adcode","latitude","longitude","toChecked","initMapWeb","center","zoom","AMap","enableHighAccuracy","timeout","buttonOffset","zoomToAccuracy","buttonPosition","geolocation","getNowPlace","uni","url","method","success","city","district","location","addressLocal","fail","title","icon","addMarker","image","imageSize","position","getPlaces","getNearbyPlaces"],"mappings":"6IAAA,uIACIA,EADJ,QASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,WACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,kDACZ,aAAAF,E,2CCvBf,wQ,kCCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G,kCCRvB,0HAAu3B,eAAG,G,uHCiC13B,CACAC,OACAC,OACAC,YACAC,mBAEAC,QACAF,YACAC,YAEAE,YACAH,YACAC,YAEAG,cACAJ,YACAC,YAEAI,MACAL,aACAC,aAGAK,gBACA,OACAC,QACAC,WACAC,YACAC,SACAC,aAEAC,eAGAC,OACAR,mBAAA,WACA,iBACA,2BACA,cAIAS,mBACA,yBAEA,yCACA,OACAC,yBACA,uCACAA,yBACAA,+BACAA,iEACAC,6BACAC,SANAF,IAUAG,SACAC,gBAAA,WACA,IACA,kBACA,SACAC,uBAAA,yBAIAC,uBAAA,WACA,aACAC,0BAGA,mCACA,+BACA,gBACA,MAGAC,kBACA,gBACA,aACA,YACA,0BAIAC,oBACA,kBACA,cACA,6BAIAC,mBAEA,GADAC,6CACA,cACA,MAEAC,EADA,0BACAA,0BAEAA,0FAGA,uCAEA,0BAAAA,UAAAC,2BAAAC,cAAAC,iBACA,kBACA,gBAIAC,sBAIA,GAHAL,yBACA,eAEA,aACA,yBACA,4BACA,4BAIAM,sBAAA,WACA,OAmBA,GAlBA,6BACAC,0BACAC,UAGA,iCACA,UACA,sBAEAjB,uCAIAA,6CAEAA,oEAGA,4BACA,mCAKA,OAJAA,uBAEAA,kCACAA,iDAIAkB,2CACA,4BAEAC,sBAEAC,YAEAC,mCAEAC,kBAEAC,sBAGAC,oCACA,4CACAxB,2CAGAA,6EAOAyB,wBAAA,WACAC,WACAC,oGACAC,aACAC,oBACA,aACA,kBACA,kBACA,WACAlB,iCACAmB,6BACAC,qCACAC,WACAC,oCAKAC,iBACAR,aACAS,wBACAC,kBAMAC,wBACA,qBAEAC,iFAEAC,iCAGA,6BACAH,OACAI,iBAGA,6BACA,2BAGAC,wBAAA,WACAhC,gCACAiB,WACAC,iIACAC,aACAC,oBACApB,yBACA,aACA,iBACA,4EACAA,6BAGAyB,iBACAzB,2BACAiB,aACAS,wBACAC,kBASAM,8BAAA,WACA,8HACAjC,+BACAiB,WACAC,MACAC,aACAC,oBACApB,yBACA,aACA,iBACA,gBAIAyB,iBACAzB,2BACAiB,aACAS,wBACAC,oBAoBA,c,8DC7TA,0HAAsoD,eAAG,G","file":"bundle_c/components/amap-choose/amap-choose.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./amap-choose.vue?vue&type=template&id=1db9ec96&scoped=true&\"\nvar renderjs\nimport script from \"./amap-choose.vue?vue&type=script&lang=js&\"\nexport * from \"./amap-choose.vue?vue&type=script&lang=js&\"\nimport style0 from \"./amap-choose.vue?vue&type=style&index=0&id=1db9ec96&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1db9ec96\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"bundle_c/components/amap-choose/amap-choose.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./amap-choose.vue?vue&type=template&id=1db9ec96&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./amap-choose.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./amap-choose.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"amap-choose\" v-if=\"showPlace\">\r\n\t\t<view class=\"top-button\">\r\n\t\t\t<text class=\"cancel\" @tap=\"toCancel\">取消</text>\r\n\t\t\t<text class=\"conform\" :style=\"{'backgroundColor': color}\" @tap=\"confrom\">完成</text>\r\n\t\t</view>\r\n\t\t<view class=\"map-box\">\r\n\t\t\t<view id=\"map\"></view>\r\n\t\t</view>\r\n\t\t<view class=\"content\">\r\n\t\t\t<view class=\"search\">\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<image src=\"./search.png\"></image>\r\n\t\t\t\t\t<input placeholder=\"搜索地点\"  @input=\"inputValue\" v-model=\"keyword\"/>\r\n\t\t\t\t</view>\r\n\t\t\t\t<text @tap=\"cancel\">取消</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"main\">\r\n\t\t\t\t<view v-for=\"(item, index) in list\" :key=\"index\" @tap=\"toChecked(item)\">\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t<view>{{item.name}}</view>\r\n\t\t\t\t\t\t<text class=\"detail\">{{item.district}}{{item.address ? '-' + item.address : ''}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t<text :style=\"{color}\" v-if=\"item.location === checked.location\">√</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\n</template>\n\n<script>\r\n\texport default{\r\n\t\tprops:{\r\n\t\t\tcolor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '#ff6000'\r\n\t\t\t},\r\n\t\t\tkeyMap: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tAMapKeyWeb: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tinitLocation: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tshow: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tlist: [],\r\n\t\t\t\tkeyword: '',\r\n\t\t\t\ttimeId: null,\r\n\t\t\t\tchecked: {\r\n\t\t\t\t\tlocaiton: ''\r\n\t\t\t\t},\r\n\t\t\t\tshowPlace: false\r\n\t\t\t}\r\n\t\t},\n\t\twatch: {\n\t\t\tshow(newVal, oldVal) {\n\t\t\t\tthis.showPlace = newVal;\n\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\tthis.loop();\n\t\t\t\t})\n\t\t\t}\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.showPlace = this.show;\n\t\t\t\r\n\t\t\tvar script = document.getElementById('mapTest')\r\n\t\t\tlet that = this;\r\n\t\t\tscript ? this.loop() : (function (){\r\n\t\t\t\tvar script = document.createElement(\"script\");\r\n\t\t\t\tscript.type = \"text/javascript\";\r\n\t\t\t\tscript.setAttribute('id', 'mapTest')\r\n\t\t\t\tscript.src = `https://webapi.amap.com/maps?v=2.0&key=${that.keyMap}`;\r\n\t\t\t\tdocument.body.appendChild(script);\r\n\t\t\t\tthat.loop();\r\n\t\t\t})()\r\n\t\t},\r\n\t\t\r\n\t\tmethods:{\r\n\t\t\tloop() {\r\n\t\t\t\ttry{\r\n\t\t\t\t\tthis.initMapWeb();\r\n\t\t\t\t}catch(e){\r\n\t\t\t\t\tsetTimeout(()=>this.loop(), 200)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tinputValue(e) {\r\n\t\t\t\tif(this.timeId) {\r\n\t\t\t\t\tclearTimeout(this.timeId)\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.timeId = setTimeout(() => {\r\n\t\t\t\t\tthis.getPlaces(e.detail.value, '')\r\n\t\t\t\t\tthis.timeId = null\r\n\t\t\t\t},300);\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tcancel() {\r\n\t\t\t\tthis.keyword = '';\r\n\t\t\t\tthis.list = [];\r\n\t\t\t\tif(this.maker) {\r\n\t\t\t\t\tthis.marker.setMap(null);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\ttoCancel() {\r\n\t\t\t\tthis.showPlace = false;\r\n\t\t\t\tthis.cancel();\r\n\t\t\t\tthis.$emit('changeShow', false)\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t//完成\r\n\t\t\tconfrom() {\n\t\t\t\tconsole.log('完成-传递选择地址checked',this.checked);\r\n\t\t\t\tif(this.checked) {\r\n\t\t\t\t\tlet address;\r\n\t\t\t\t\tif(this.checked.addressLocal) {\r\n\t\t\t\t\t\taddress = this.checked.addressLocal\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\t\taddress = `${this.checked.district}${this.checked.address ? '-' + this.checked.address : ''}`\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet location = this.checked.location.split(',');\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.$emit('placeChoose', {address, adcode: this.checked.adcode, latitude:location[1], longitude:location[0]})\r\n\t\t\t\t\tthis.showPlace = false;\r\n\t\t\t\t\tthis.cancel();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\ttoChecked(obj) {\n\t\t\t\tconsole.log('选择地址obj',obj);\r\n\t\t\t\tthis.checked = obj;\r\n\t\t\t\t\r\n\t\t\t\tif(this.marker) {\r\n\t\t\t\t\tthis.marker.setMap(null);\r\n\t\t\t\t\tlet tempArr = obj.location.split(',');\r\n\t\t\t\t\tthis.addMarker(tempArr[0], tempArr[1])\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tinitMapWeb() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tthis.map = new AMap.Map(\"map\", {\r\n\t\t\t\t\tcenter: [ '106.55', '29.57'],\r\n\t\t\t\t\tzoom: 18\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tthis.map.on('click', (e) => {\r\n\t\t\t\t\tif(this.marker) {\r\n\t\t\t\t\t\tthis.marker.setMap(null);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.addMarker(e.lnglat.lng, e.lnglat.lat);\r\n\t\t\t\t\t// that.getPlaces('', `${e.lnglat.lng}, ${e.lnglat.lat}`);\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\tthat.getNearbyPlaces(e.lnglat.lng, e.lnglat.lat);\n\t\t\t\t\t\r\n\t\t\t\t\tthat.getNowPlace(`${e.lnglat.lng}, ${e.lnglat.lat}`);\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\tif(this.initLocation.length > 0) {\r\n\t\t\t\t\tlet tempArr = this.initLocation.split(',');\r\n\t\t\t\t\tthat.addMarker(tempArr[0], tempArr[1])\r\n\t\t\t\t\t// that.getPlaces('', `${tempArr[0]}, ${tempArr[1]}`);\n\t\t\t\t\tthat.getNearbyPlaces(tempArr[0], tempArr[1]);\r\n\t\t\t\t\tthat.getNowPlace(`${tempArr[0]}, ${tempArr[1]}`);\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tAMap.plugin('AMap.Geolocation', function() {\r\n\t\t\t\t  var geolocation = new AMap.Geolocation({\r\n\t\t\t\t    // 是否使用高精度定位，默认：true\r\n\t\t\t\t    enableHighAccuracy: true,\r\n\t\t\t\t    // 设置定位超时时间，默认：无穷大\r\n\t\t\t\t    timeout: 10000,\r\n\t\t\t\t    // 定位按钮的停靠位置的偏移量，默认：Pixel(10, 20)\r\n\t\t\t\t    buttonOffset: new AMap.Pixel(10, 20),\r\n\t\t\t\t    //  定位成功后调整地图视野范围使定位位置及精度范围视野内可见，默认：false\r\n\t\t\t\t    zoomToAccuracy: true,     \r\n\t\t\t\t    //  定位按钮的排放位置,  RB表示右下\r\n\t\t\t\t    buttonPosition: 'RB'\r\n\t\t\t\t  })\r\n\t\t\t\t  \r\n\t\t\t\t  geolocation.getCurrentPosition(function(status,result){\r\n\t\t\t\t\tif(result.info == \"SUCCESS\" && result.position && result.position){\r\n\t\t\t\t\t\tthat.addMarker(result.position.lng, result.position.lat)\r\n\t\t\t\t\t\t// that.getPlaces('', `${result.position.lng}, ${result.position.lat}`)\n\t\t\t\t\t\t// that.getNearbyPlaces(result.position.lng, result.position.lat);\r\n\t\t\t\t\t\tthat.getNowPlace(`${result.position.lng}, ${result.position.lat}`);\r\n\t\t\t\t\t}\r\n\t\t\t\t  });\r\n\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tgetNowPlace(location) {\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: `https://restapi.amap.com/v3/geocode/regeo?key=${this.AMapKeyWeb}&location=${location}`,\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tlet result = res.data;\r\n\t\t\t\t\t\tif(result.status == '1') {\r\n\t\t\t\t\t\t\tlet tempObj = result.regeocode;\r\n\t\t\t\t\t\t\tthis.checked = {\r\n\t\t\t\t\t\t\t\tadcode: tempObj.addressComponent.adcode,\r\n\t\t\t\t\t\t\t\tcity: tempObj.addressComponent.city,\r\n\t\t\t\t\t\t\t\tdistrict: tempObj.addressComponent.district,\r\n\t\t\t\t\t\t\t\tlocation,\r\n\t\t\t\t\t\t\t\taddressLocal: tempObj.formatted_address\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: JSON.stringify(err),\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\taddMarker(lng, lat) {\r\n\t\t\t\tvar icon = new AMap.Icon({\r\n\t\t\t\t\t// 图标的取图地址\r\n\t\t\t\t\timage: '//a.amap.com/jsapi_demos/static/demo-center/icons/poi-marker-default.png',\r\n\t\t\t\t\t// 图标所用图片大小\r\n\t\t\t\t\timageSize: new AMap.Size(32, 42),\r\n\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\tthis.marker = new AMap.Marker({\r\n\t\t\t\t\ticon,\r\n\t\t\t\t    position: [lng, lat],  \r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tthis.marker.setMap(this.map);\r\n\t\t\t\tthis.map.setCenter([lng, lat])\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tgetPlaces(keywords, location) {\n\t\t\t\tconsole.log('获取周边keywords',keywords,location);\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: `https://restapi.amap.com/v3/assistant/inputtips?key=${this.AMapKeyWeb}&keywords=${keywords}&location=${location}`,\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tconsole.log('获取周边res',res);\r\n\t\t\t\t\t\tlet result = res.data;\r\n\t\t\t\t\t\tif(result.status === '1')  {\r\n\t\t\t\t\t\t\tthis.list = result.tips.filter(item => item.location && item.location.length > 0);\r\n\t\t\t\t\t\t\tconsole.log(this.list, result.tips)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\tconsole.error('获取周边err',err);\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: JSON.stringify(err),\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\n\t\t\t/* \n\t\t\thttps://restapi.amap.com/v5/place/around?location=116.473168,39.993015&radius=10000&types=011100&key=<用户的key>\n\t\t\tthat.getNearbyPlaces(e.lnglat.lng, e.lnglat.lat);\n\t\t\t*/\n\t\t\tgetNearbyPlaces(lng,lat) {\n\t\t\t\tlet nearbyUrl = `https://restapi.amap.com/v3/place/around?key=${this.AMapKeyWeb}&location=${lng},${lat}&output=JSON`;\n\t\t\t\tconsole.log('获取周边nearbyUrl',nearbyUrl);\n\t\t\t\tuni.request({\n\t\t\t\t\turl: nearbyUrl,\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tconsole.log('获取周边res',res);\n\t\t\t\t\t\tlet result = res.data;\n\t\t\t\t\t\tif(result.status === '1')  {\n\t\t\t\t\t\t\tthis.list = result.pois;\n\t\t\t\t\t\t\t// console.log(this.list)\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\tconsole.error('获取周边err',err);\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: JSON.stringify(err),\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t/* \n\t\t\t\n\t\t\thttps://restapi.amap.com/v5/place/around?location=116.473168,39.993015&radius=10000&types=011100&key=<用户的key>\n\n\t\t\t \n\t\t\t https://apis.map.qq.com/ws/place/v1/search?callback=jsonpCB_1707204659026\n\t\t\t\t&key=SFABZ-WANWW-FISRY-3IGTF-HV7RE-YSFTI\n\t\t\t\t&output=jsonp\n\t\t\t\t&page_size=20\n\t\t\t\t&page_index=1\n\t\t\t\t&enableHighAccuracy=true\n\t\t\t\t&boundary=nearby(31.26278344006259,120.63366478876537,1000)\n\t\t\t */\r\n\t\t}\r\n\t}\n</script>\n\n<style lang=\"scss\" scoped>\r\n\t.amap-choose {\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\twidth: 100%;\r\n\t\theight: 100vh;\r\n\t\tz-index: 99999;\r\n\t\t.top-button {\r\n\t\t\ttop: 0;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\tpadding: 24rpx;\r\n\t\t\tposition: fixed;\r\n\t\t\twidth: 100%;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: row;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\tz-index: 100;\r\n\t\t\t.cancel {\r\n\t\t\t\t// color: white;\r\n\t\t\t}\r\n\t\t\t.conform {\r\n\t\t\t\t// background-color: #ff6000;\r\n\t\t\t\tcolor: #333;\r\n\t\t\t\tpadding: 8rpx 14rpx;\r\n\t\t\t\tborder-radius: 8rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t.map-box {\r\n\t\t\theight: 60%;\r\n\t\t\t// background-color: pink;\r\n\t\t\t#map {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 100%;\r\n\t\t\t}\r\n\t\t\t/deep/ .amap-logo {\r\n\t\t\t\tdisplay: none !important;\r\n\t\t\t}\r\n\t\t\t/deep/ .amap-copyright {\r\n\t\t\t\tdisplay: none !important;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t.content {\r\n\t\t\tposition: fixed;\r\n\t\t\tbottom: 0;\r\n\t\t\tborder-radius: 24rpx 24rpx 0 0;\r\n\t\t\theight: 42%;\r\n\t\t\twidth: 100%;\r\n\t\t\tbackground: white;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\tpadding: 24rpx;\r\n\t\t\t.search {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: row;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\t&>view {\r\n\t\t\t\t\twidth: 88%;\r\n\t\t\t\t\theight: 64rpx;\r\n\t\t\t\t\tbackground: #F4f4f4;\r\n\t\t\t\t\tborder-radius: 14rpx;\r\n\t\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\t\tpadding: 8rpx 24rpx;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tflex-direction: row;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\timage {\r\n\t\t\t\t\t\twidth: 30rpx;\r\n\t\t\t\t\t\theight: 25rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tinput {\r\n\t\t\t\t\t\tmargin-left: 8rpx;\r\n\t\t\t\t\t\tflex: 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.main  {\r\n\t\t\t\tmargin-top: 20rpx;\r\n\t\t\t\theight: calc(100% - 88rpx);\r\n\t\t\t\t// background: pink;\r\n\t\t\t\toverflow-y: auto;\r\n\t\t\t\t&>view {\r\n\t\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\t\tpadding: 20rpx;\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tflex-direction: row;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\t.detail {\r\n\t\t\t\t\t\tcolor: #707070;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\n</style>\n","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./amap-choose.vue?vue&type=style&index=0&id=1db9ec96&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./amap-choose.vue?vue&type=style&index=0&id=1db9ec96&lang=scss&scoped=true&\""],"sourceRoot":""}