{"version":3,"sources":["webpack:////Users/wangyunzhu/Desktop/yinjiangtao/uniapp/uniapp_demo/uniapp_demo/uni_modules/hic-video-player/components/hic-video-player/hic-video-player.vue?dd4a","webpack:////Users/wangyunzhu/Desktop/yinjiangtao/uniapp/uniapp_demo/uniapp_demo/uni_modules/hic-video-player/components/hic-video-player/hic-video-player.vue?82bb","webpack:////Users/wangyunzhu/Desktop/yinjiangtao/uniapp/uniapp_demo/uniapp_demo/uni_modules/hic-video-player/components/hic-video-player/hic-video-player.vue?7730","webpack:////Users/wangyunzhu/Desktop/yinjiangtao/uniapp/uniapp_demo/uniapp_demo/uni_modules/hic-video-player/components/hic-video-player/hic-video-player.vue?75ad","uni-app:///uni_modules/hic-video-player/components/hic-video-player/hic-video-player.vue","webpack:////Users/wangyunzhu/Desktop/yinjiangtao/uniapp/uniapp_demo/uniapp_demo/uni_modules/hic-video-player/components/hic-video-player/hic-video-player.vue?f3ad"],"names":["renderjs","component","options","__file","components","hicVideo","hicLivePlayer","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped","name","HicVideo","HicLivePlayer","emits","props","src","type","default","poster","autoplay","muted","initialTime","title","controlsToggleTitle","upperRightText","definition","defaultDefinition","width","height","hideVideo","delay","tipNotWifi","controls","showMuteBtn","playbackrate","loading","autoFullScreen","useLivePlayer","autoSwitchComp","mode","validator","orientation","showPlayBtn","showFullScreenBtn","custom","customName","onlyShowCustomInFullscreen","data","videoVis","isWifi","tipVis","SDKVersion","videoUrl","watch","handler","setTimeout","immediate","computed","style","showComp","isAutoFullScreen","created","systemInfo","methods","networkTypeIsWifi","uni","success","resolve","fail","reject","trafficPlayVideo","icon","pauseVideo","ended","timeupdate","changeUrl","changeDefinition"],"mappings":"0KAAA,oIACIA,EADJ,QASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,WACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,gFACZ,aAAAF,E,0CCvBf,uQ,iCCAA,IAAIG,EAAJ,0LACA,IACEA,EAAa,CACXC,SAAU,WACR,OAAO,gIAITC,cAAe,WACb,OAAO,6IAKX,MAAOC,GACP,IAC+C,IAA7CA,EAAEC,QAAQC,QAAQ,wBACa,IAA/BF,EAAEC,QAAQC,QAAQ,QAWlB,MAAMF,EATNG,QAAQC,MAAMJ,EAAEC,SAChBE,QAAQC,MAAM,mBACdD,QAAQC,MACN,uFAEFD,QAAQC,MACN,mDAMN,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G,iCCtCvB,yHAA05B,eAAG,G,6JC2F75B,08BACA,CACAC,sBACAlB,YACAmB,WACAC,iBAEAC,2EACAC,OACAC,KAEAC,YACAC,YAEAC,QAEAF,YACAC,YAEAE,UACAH,aACAC,YAEAG,OAEAJ,aACAC,YAEAI,aACAL,aAEAM,OACAN,YACAC,YAEAM,qBACAP,aACAC,YAEAO,gBAEAR,YACAC,YAEAQ,YAGAT,WACAC,mBAAA,WAEAS,mBAEAV,YACAC,cAEAU,OACAX,YACAC,YAEAW,QACAZ,YACAC,YAEAY,WAEAb,aACAC,YAEAa,OAEAd,YACAC,aAEAc,YAEAf,aACAC,YAEAe,UACAhB,aACAC,YAEAgB,aACAjB,aACAC,YAEAiB,cACAlB,aACAC,YAEAkB,SACAnB,aACAC,YAEAmB,gBACApB,aACAC,YAEAoB,eACArB,aACAC,YAEAqB,gBAEAtB,aACAC,YAEAsB,MAEAvB,YACAC,eACAuB,sBACA,uCAGAC,aAEAzB,YACAC,mBACAuB,sBACA,kDAGAE,aACA1B,aACAC,YAEA0B,mBACA3B,aACAC,YAEA2B,QACA5B,aACAC,YAEA4B,YACA7B,YACAC,YAEA6B,4BACA9B,aACAC,aAGA8B,gBACA,OACAC,YACAC,UACAC,UACAC,cACAC,cAGAC,OACAxB,WACAyB,sBAAA,WAEA,4BACA,8DAGA,YADA,uBAGA,kCACA,2DAGA,YADA,kBAKA,EACA,kBACA,KAEAC,uBACA,gBACA,YAEA,kBAGAC,eAGAC,UACAC,iBACA,+BACA,kEAEA,8BAEAC,oBACA,uBACA,cAEA,8BAkBA,+DAEA,wBAEA,qBACA,wBACA,cAEA,QAEA,oBAIA,eAEAC,4BACA,gCAEA,+DAWAC,mBAAA,0JACA,6CACA,0BACA,aAEAC,wBACA,eACA,2BACA,0CARA,IAUAC,SACAC,6BAEA,kCACAC,kBACAC,oBACAC,2BAEAC,iBACAtE,eACAuE,WAKAC,4BACA,eACAL,aAAA3C,8BAAAiD,cACA,gCAEAC,sBAEA,wBACA,oCACA,+BACA,qCAGAzE,kBACA,uBAEA0E,kBACA,uBAEAC,uBACA,4BAEAC,sBAGA,iBAEAC,6BAEA,oCAGA,c,6DCxYA,yHAAisD,eAAG,G","file":"uni_modules/hic-video-player/components/hic-video-player/hic-video-player.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./hic-video-player.vue?vue&type=template&id=760c7892&scoped=true&\"\nvar renderjs\nimport script from \"./hic-video-player.vue?vue&type=script&lang=js&\"\nexport * from \"./hic-video-player.vue?vue&type=script&lang=js&\"\nimport style0 from \"./hic-video-player.vue?vue&type=style&index=0&id=760c7892&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"760c7892\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"uni_modules/hic-video-player/components/hic-video-player/hic-video-player.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hic-video-player.vue?vue&type=template&id=760c7892&scoped=true&\"","var components\ntry {\n  components = {\n    hicVideo: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/hic-video-player/components/hic-video/hic-video\" */ \"@/uni_modules/hic-video-player/components/hic-video/hic-video.vue\"\n      )\n    },\n    hicLivePlayer: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/hic-video-player/components/hic-live-player/hic-live-player\" */ \"@/uni_modules/hic-video-player/components/hic-live-player/hic-live-player.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hic-video-player.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hic-video-player.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"hic-video-player\" :style=\"style\">\r\n\t\t<template v-if=\"tipVis\">\r\n\t\t\t<view class=\"bg-img bg-mask\" :style=\"{backgroundImage: 'url(' + poster + ')'}\">\r\n\t\t\t\t<view class=\"\">\r\n\t\t\t\t\t<text>正在使用非WIFI网络，播放将产生流量费用</text>\r\n\t\t\t\t\t<button class=\"btn\" @click=\"trafficPlayVideo\">流量播放</button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</template>\r\n\t\t<template v-else-if=\"loading\">\r\n\t\t\t<view class=\"bg-img bg-mask\" :style=\"{backgroundImage: 'url(' + poster + ')'}\">\r\n\t\t\t\t<view class=\"\">\r\n\t\t\t\t\t<view class=\"loading\"></view>\r\n\t\t\t\t\t<text>加载中...</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</template>\r\n\t\t<template v-else>\r\n\t\t\t<view v-show=\"videoVis\" :style=\"style\">\r\n\t\t\t\t<template v-if=\"showComp === 'video'\">\r\n\t\t\t\t\t<hic-video\r\n\t\t\t\t\t\tref=\"hicVideo\"\r\n\t\t\t\t\t\t:src=\"src\"\r\n\t\t\t\t\t\t:poster=\"poster\"\r\n\t\t\t\t\t\t:autoplay=\"autoplay\"\r\n\t\t\t\t\t\t:muted=\"muted\"\r\n\t\t\t\t\t\t:initial-time=\"initialTime\"\r\n\t\t\t\t\t\t:controls=\"controls\"\r\n\t\t\t\t\t\t:title=\"title\"\r\n\t\t\t\t\t\t:controls-toggle-title=\"controlsToggleTitle\"\r\n\t\t\t\t\t\t:upper-right-text=\"upperRightText\"\r\n\t\t\t\t\t\t:definition=\"definition\"\r\n\t\t\t\t\t\t:default-definition=\"defaultDefinition\"\r\n\t\t\t\t\t\t:show-mute-btn=\"showMuteBtn\"\r\n\t\t\t\t\t\t:playbackrate=\"playbackrate\"\r\n\t\t\t\t\t\t:auto-full-screen=\"isAutoFullScreen\"\r\n\t\t\t\t\t\t:style_=\"style\"\r\n\t\t\t\t\t\t:custom=\"custom\"\r\n\t\t\t\t\t\t:customName=\"customName\"\r\n\t\t\t\t\t\t:onlyShowCustomInFullscreen=\"onlyShowCustomInFullscreen\"\r\n\t\t\t\t\t\t@error=\"error\"\r\n\t\t\t\t\t\t@ended=\"ended\"\r\n\t\t\t\t\t\t@timeupdate=\"timeupdate\"\r\n\t\t\t\t\t\t@changeUrl=\"changeUrl\"\r\n\t\t\t\t\t\t@changeDefinition=\"changeDefinition\">\r\n\t\t\t\t\t\t<template #custom>\r\n\t\t\t\t\t\t\t<slot name=\"custom\"></slot>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</hic-video>\r\n\t\t\t\t</template>\r\n\t\t\t\t<template v-else-if=\"showComp === 'live-player'\">\r\n\t\t\t\t\t<hic-live-player\r\n\t\t\t\t\t\tref=\"hicLivePlayer\"\r\n\t\t\t\t\t\t:src=\"src\"\r\n\t\t\t\t\t\t:mode=\"mode\"\r\n\t\t\t\t\t\t:autoplay=\"autoplay\"\r\n\t\t\t\t\t\t:muted=\"muted\"\r\n\t\t\t\t\t\t:orientation=\"orientation\"\r\n\t\t\t\t\t\t:controls=\"controls\"\r\n\t\t\t\t\t\t:title=\"title\"\r\n\t\t\t\t\t\t:controls-toggle-title=\"controlsToggleTitle\"\r\n\t\t\t\t\t\t:upper-right-text=\"upperRightText\"\r\n\t\t\t\t\t\t:definition=\"definition\"\r\n\t\t\t\t\t\t:default-definition=\"defaultDefinition\"\r\n\t\t\t\t\t\t:auto-full-screen=\"isAutoFullScreen\"\r\n\t\t\t\t\t\t:show-play-btn=\"showPlayBtn\"\r\n\t\t\t\t\t\t:show-full-screen-btn=\"showFullScreenBtn\"\r\n\t\t\t\t\t\t:style_=\"style\"\r\n\t\t\t\t\t\t:custom=\"custom\"\r\n\t\t\t\t\t\t:customName=\"customName\"\r\n\t\t\t\t\t\t:onlyShowCustomInFullscreen=\"onlyShowCustomInFullscreen\"\r\n\t\t\t\t\t\t@error=\"error\"\r\n\t\t\t\t\t\t@changeUrl=\"changeUrl\"\r\n\t\t\t\t\t\t@changeDefinition=\"changeDefinition\">\r\n\t\t\t\t\t\t<template #custom>\r\n\t\t\t\t\t\t\t<slot name=\"custom\"></slot>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</hic-live-player>\r\n\t\t\t\t</template>\r\n\t\t\t</view>\r\n\t\t\t<view v-show=\"!videoVis\" :style=\"style\">\r\n\t\t\t\t<image :src=\"poster\" mode=\"aspectFill\" :style=\"style\"></image>\r\n\t\t\t</view>\r\n\t\t</template>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport HicVideo from '../hic-video/hic-video.vue';\r\n\timport HicLivePlayer from '../hic-live-player/hic-live-player.vue';\r\n\timport * as utils from '../../utils/index.js';\r\n\texport default {\r\n\t\tname: 'HicVideoPlayer',\r\n\t\tcomponents: {\r\n\t\t\tHicVideo,\r\n\t\t\tHicLivePlayer\r\n\t\t},\r\n\t\temits: ['trafficPlayVideo', 'error', 'changeDefinition', 'ended', 'timeupdate'],\r\n\t\tprops: {\r\n\t\t\tsrc: {\r\n\t\t\t\t// 视频播放地址\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tposter: {\r\n\t\t\t\t// 封面图片地址\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tautoplay: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tmuted: {\r\n\t\t\t\t// 是否静音\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tinitialTime: {\r\n\t\t\t\ttype: Number\r\n\t\t\t},\r\n\t\t\ttitle: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tcontrolsToggleTitle: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tupperRightText: {\r\n\t\t\t\t// 右上角文本\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tdefinition: {\r\n\t\t\t\t// 清晰度视频地址列表\r\n\t\t\t\t// [{ key: 'sd', name: '标清', src: 'http://xxx' }]\r\n\t\t\t\ttype: Array,\r\n\t\t\t\tdefault: () => ([])\r\n\t\t\t},\r\n\t\t\tdefaultDefinition: {\r\n\t\t\t\t// 默认清晰度\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'sd'\r\n\t\t\t},\r\n\t\t\twidth: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\theight: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\thideVideo: {\r\n\t\t\t\t// 是否隐藏视频组件\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tdelay: {\r\n\t\t\t\t// 隐藏后显示视频组件的时延 默认500ms\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 500\r\n\t\t\t},\r\n\t\t\ttipNotWifi: {\r\n\t\t\t\t// 网络类型非 wifi, 是否提示\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tcontrols: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t\tshowMuteBtn: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tplaybackrate: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tloading: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tautoFullScreen: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tuseLivePlayer: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tautoSwitchComp: {\r\n\t\t\t\t// 使用live-play 视频格式不支持，是否自动切换video\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tmode: {\r\n\t\t\t\t// live-player 模式 live(直播), RTC(实时通话, 该模式时延更低)\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'live',\r\n\t\t\t\tvalidator(value) {\r\n\t\t\t\t\treturn ['live', 'RTC'].indexOf(value) !== -1;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\torientation: {\r\n\t\t\t\t// 画面方向\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'vertical',\r\n\t\t\t\tvalidator(value) {\r\n\t\t\t\t\treturn ['vertical', 'horizontal'].indexOf(value) !== -1;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tshowPlayBtn: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tshowFullScreenBtn: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tcustom: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tcustomName: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tonlyShowCustomInFullscreen: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tvideoVis: true,\r\n\t\t\t\tisWifi: false,\r\n\t\t\t\ttipVis: false,\r\n\t\t\t\tSDKVersion: '',\r\n\t\t\t\tvideoUrl: '',\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\thideVideo: {\r\n\t\t\t\thandler(val, oldVal) {\r\n\t\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\t\tif (this.showComp === 'video') {\r\n\t\t\t\t\t\tif (this.SDKVersion && utils.compareVersion('2.4.0', this.SDKVersion)) {\r\n\t\t\t\t\t\t\t// 微信小程序 <video> v2.4.0 起支持同层渲染 不需隐藏视频\r\n\t\t\t\t\t\t\tthis.videoVis = true;\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (this.showComp === 'live-player') {\r\n\t\t\t\t\t\tif (this.SDKVersion && utils.compareVersion('2.9.1', this.SDKVersion)) {\r\n\t\t\t\t\t\t\t// 微信小程序 <live-player> v2.9.1 起支持同层渲染 不需隐藏视频\r\n\t\t\t\t\t\t\tthis.videoVis = true;\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\tif (val) {\r\n\t\t\t\t\t\tthis.videoVis = false;\r\n\t\t\t\t\t} else if (!val && oldVal) {\r\n\t\t\t\t\t\t// 弹窗收起\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tthis.videoVis = true;\r\n\t\t\t\t\t\t}, this.delay);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.videoVis = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\timmediate: true\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tstyle() {\r\n\t\t\t\tif (this.width && this.height) {\r\n\t\t\t\t\treturn `width: ${this.width}; height: ${this.height};`;\r\n\t\t\t\t}\r\n\t\t\t\treturn 'width: 100%; height: 100%;';\r\n\t\t\t},\r\n\t\t\tshowComp() {\r\n\t\t\t\tif (!this.useLivePlayer) {\r\n\t\t\t\t\treturn 'video';\r\n\t\t\t\t}\r\n\t\t\t\tconst ext = utils.getExt(this.videoUrl);\t// 视频格式\r\n\t\t\t\t// #ifdef MP-BAIDU\r\n\t\t\t\tif (this.autoSwitchComp) {\r\n\t\t\t\t\t// 百度小程序支持 m3u8 格式\r\n\t\t\t\t\tconst videoFormat = ['m3u8'];\r\n\t\t\t\t\tif (videoFormat.indexOf(ext) !== -1) {\r\n\t\t\t\t\t\treturn 'live-player';\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn 'video';\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn 'live-player';\r\n\t\t\t\t}\r\n\t\t\t\t// #endif\r\n\t\t\t\t// #ifdef MP-QQ\r\n\t\t\t\t// QQ小程序\r\n\t\t\t\treturn 'live-player';\r\n\t\t\t\t// #endif\r\n\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\tif (this.SDKVersion && utils.compareVersion('1.7.0', this.SDKVersion)) {\r\n\t\t\t\t\t// 微信小程序 基础库 1.7.0 起支持 live-player\r\n\t\t\t\t\tif (this.autoSwitchComp) {\r\n\t\t\t\t\t\t// 微信小程序支持 flv, rtmp 格式\r\n\t\t\t\t\t\tconst videoFormat = ['flv', 'rtmp'];\r\n\t\t\t\t\t\tif (videoFormat.indexOf(ext) !== -1) {\r\n\t\t\t\t\t\t\treturn 'live-player';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn 'video';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn 'live-player';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// #endif\r\n\t\t\t\treturn 'video';\r\n\t\t\t},\r\n\t\t\tisAutoFullScreen() {\r\n\t\t\t\tif (!this.autoFullScreen) return false;\r\n\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\tif (this.SDKVersion && utils.compareVersion('2.9.3', this.SDKVersion)) {\r\n\t\t\t\t\t// 基础库 2.9.3 开始支持 wx.offAccelerometerChange\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t\t// #endif\r\n\t\t\t\t// #ifdef APP || H5\r\n\t\t\t\treturn true;\r\n\t\t\t\t// #endif\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync created() {\r\n\t\t\tthis.isWifi = await this.networkTypeIsWifi();\r\n\t\t\tif (this.tipNotWifi && !this.isWifi) {\r\n\t\t\t\tthis.tipVis = true;\r\n\t\t\t}\r\n\t\t\tconst systemInfo = utils.getSystemInfoSync();\r\n\t\t\tif (systemInfo.SDKVersion) {\r\n\t\t\t\tthis.SDKVersion = systemInfo.SDKVersion;\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tnetworkTypeIsWifi() {\r\n\t\t\t\t// uni.getNetworkType 的封装 获取网络类型\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\tuni.getNetworkType({\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\tresolve(res.networkType === 'wifi');\t// 网络状态是否 WiFi\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\t\treject();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\ttrafficPlayVideo() {\r\n\t\t\t\tthis.tipVis = false;\r\n\t\t\t\tuni.showToast({ title: '您当前正在使用移动数据, 记得注意流量变化', icon: 'none' });\r\n\t\t\t\tthis.$emit('trafficPlayVideo');\r\n\t\t\t},\r\n\t\t\tpauseVideo() {\r\n\t\t\t\t// 父组件调用 暂停视频\r\n\t\t\t\tif (this.showComp === 'video') {\r\n\t\t\t\t\tthis.$refs['hicVideo'].pauseVideo();\r\n\t\t\t\t} else if (this.showComp === 'live-player') {\r\n\t\t\t\t\tthis.$refs['hicLivePlayer'].pause();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\terror(event) {\r\n\t\t\t\tthis.$emit('error', event);\r\n\t\t\t},\r\n\t\t\tended(event) {\r\n\t\t\t\tthis.$emit('ended', event);\r\n\t\t\t},\r\n\t\t\ttimeupdate(event) {\r\n\t\t\t\tthis.$emit('timeupdate', event);\r\n\t\t\t},\r\n\t\t\tchangeUrl(url) {\r\n\t\t\t\t// hic-video / hic-live-player 修改视频播放地址\r\n\t\t\t\t// 判断视频格式 是否修改播放视频的组件\r\n\t\t\t\tthis.videoUrl = url;\r\n\t\t\t},\r\n\t\t\tchangeDefinition(key) {\r\n\t\t\t\t// 切换清晰度\r\n\t\t\t\tthis.$emit('changeDefinition', key);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t@import '../style.scss';\r\n\t.hic-video-player {\r\n\t\tcolor: #FFFFFF;\r\n\t\tposition: relative;\r\n\t\t.bg-img.bg-mask {\r\n\t\t\theight: 100%;\r\n\t\t\t& > view {\r\n\t\t\t\theight: 100%;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\ttext {\r\n\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\tmargin: 20rpx 40rpx;\r\n\t\t\t\t}\r\n\t\t\t\t.loading {\r\n\t\t\t\t\twidth: 50rpx;\r\n\t\t\t\t\theight: 50rpx;\r\n\t\t\t\t\tborder: 2rpx solid #FFFFFF;\r\n\t\t\t\t\tborder-radius: 50% 50% 0 0;\r\n\t\t\t\t\tborder-left: none;\r\n\t\t\t\t\tborder-bottom: none;\r\n\t\t\t\t\tborder-right: none;\r\n\t\t\t\t\tanimation: spin 2s infinite linear;\r\n\t\t\t\t}\r\n\t\t\t\t@keyframes spin {\r\n\t\t\t\t\t0% {\r\n\t\t\t\t\t\ttransform: rotate(0);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t100% {\r\n\t\t\t\t\t\ttransform: rotate(359deg);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hic-video-player.vue?vue&type=style&index=0&id=760c7892&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hic-video-player.vue?vue&type=style&index=0&id=760c7892&lang=scss&scoped=true&\""],"sourceRoot":""}