require('../../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["bundle_b/pages/chart_demo/china_map"],{769:function(e,t,n){"use strict";(function(e,t){var a=n(4);n(29);a(n(25));var o=a(n(770));e.__webpack_require_UNI_MP_PLUGIN__=n,t(o.default)}).call(this,n(1)["default"],n(2)["createPage"])},770:function(e,t,n){"use strict";n.r(t);var a=n(771),o=n(773);for(var r in o)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(r);n(777);var i,c=n(57),u=Object(c["default"])(o["default"],a["render"],a["staticRenderFns"],!1,null,null,null,!1,a["components"],i);u.options.__file="bundle_b/pages/chart_demo/china_map.vue",t["default"]=u.exports},771:function(e,t,n){"use strict";n.r(t);var a=n(772);n.d(t,"render",(function(){return a["render"]})),n.d(t,"staticRenderFns",(function(){return a["staticRenderFns"]})),n.d(t,"recyclableRender",(function(){return a["recyclableRender"]})),n.d(t,"components",(function(){return a["components"]}))},772:function(e,t,n){"use strict";var a;n.r(t),n.d(t,"render",(function(){return o})),n.d(t,"staticRenderFns",(function(){return i})),n.d(t,"recyclableRender",(function(){return r})),n.d(t,"components",(function(){return a}));try{a={uNavbar:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-navbar/u-navbar")]).then(n.bind(null,979))}}}catch(c){if(-1===c.message.indexOf("Cannot find module")||-1===c.message.indexOf(".vue"))throw c;console.error(c.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var o=function(){var e=this,t=e.$createElement;e._self._c},r=!1,i=[];o._withStripped=!0},773:function(e,t,n){"use strict";n.r(t);var a=n(774),o=n.n(a);for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);t["default"]=o.a},774:function(e,t,n){"use strict";(function(e){var a=n(4);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(775)),r=a(n(776));function i(e,t,n,a,o,r,i){var c=e,u=t;return 1==i&&(c=20037508.34*e/180,u=Math.log(Math.tan((90+t)*Math.PI/360))/(Math.PI/180),u=20037508.34*u/180),{x:(c-n.xMin)*a+o,y:(n.yMax-u)*a+r}}var c={data:function(){return{opts:{update:!0,fontSize:10,extra:{map:{mercator:!0}}},chartData:{series:[]},markPoints:[],layout:"china"}},onLoad:function(){this.drawChina()},methods:{drawChina:function(){var t=this;e.setNavigationBarTitle({title:"地图外部自定义标记点"}),setTimeout((function(){for(var e=o.default.features,n=0;n<e.length;n++)e[n].value=Math.floor(1e3*Math.random()),e[n].fillOpacity=e[n].value/1e3,e[n].color="#0D9FD8";t.chartData={series:e}}),100)},complete:function(e){if(console.log("complete",e),"china"===this.layout){for(var t=[{latitude:44.315561,longitude:114.059024,value:e.opts.series[4].value,name:"内蒙古"},{latitude:35.726402,longitude:96.043531,value:e.opts.series[28].value,name:"青海"}],n=e.opts.chartData.mapData,a=0;a<t.length;a++){var r=i(t[a].longitude,t[a].latitude,n.bounds,n.scale,n.xoffset,n.yoffset,n.mercator);t[a].x=r.x,t[a].y=r.y}console.log("markPoints",t),this.markPoints=t;var c=14,u=o.default.features[c].properties.centroid;i(u[0],u[1],n.bounds,n.scale,n.xoffset,n.yoffset,n.mercator)}},clickPoint:function(t){console.log("clickPoint",t),e.showModal({title:t.name,content:"销售金额："+t.value+"万元",success:function(e){}})},getIndex:function(t){console.log(this.layout),console.log("getIndex",t.currentIndex,o.default.features[25]),console.log(this.layout),"china"==this.layout?t.currentIndex>-1&&(this.layout="province",this.drawProvince(o.default.features[t.currentIndex].properties)):-1==t.currentIndex?(this.layout="china",this.drawChina()):e.showModal({title:this.chartData.series[t.currentIndex].properties.name,content:"销售金额："+this.chartData.series[t.currentIndex].value+"万元",success:function(e){}})},drawProvince:function(t){var n=this;e.setNavigationBarTitle({title:"点空白返回中国地图"}),this.chartData={series:[]},this.opts={fontSize:10,extra:{map:{mercator:!0}}},this.markPoints=[],e.request({url:"localhost?adcode="+t.adcode,complete:function(e){for(var t=r.default.features,a=0;a<t.length;a++)t[a].value=Math.floor(1e3*Math.random()),t[a].fillOpacity=t[a].value/1e3,t[a].color="#0D9FD8";n.chartData={series:t}}})}}};t.default=c}).call(this,n(2)["default"])},777:function(e,t,n){"use strict";n.r(t);var a=n(778),o=n.n(a);for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);t["default"]=o.a},778:function(e,t,n){}},[[769,"common/runtime","common/vendor","bundle_b/common/vendor"]]]);