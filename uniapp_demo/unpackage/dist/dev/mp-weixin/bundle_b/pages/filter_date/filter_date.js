require('../../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["bundle_b/pages/filter_date/filter_date"],{511:function(e,t,n){"use strict";(function(e,t){var a=n(4);n(29);a(n(25));var r=a(n(512));e.__webpack_require_UNI_MP_PLUGIN__=n,t(r.default)}).call(this,n(1)["default"],n(2)["createPage"])},512:function(e,t,n){"use strict";n.r(t);var a=n(513),r=n(515);for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n(657);var l,o=n(57),c=Object(o["default"])(r["default"],a["render"],a["staticRenderFns"],!1,null,"107df998",null,!1,a["components"],l);c.options.__file="bundle_b/pages/filter_date/filter_date.vue",t["default"]=c.exports},513:function(e,t,n){"use strict";n.r(t);var a=n(514);n.d(t,"render",(function(){return a["render"]})),n.d(t,"staticRenderFns",(function(){return a["staticRenderFns"]})),n.d(t,"recyclableRender",(function(){return a["recyclableRender"]})),n.d(t,"components",(function(){return a["components"]}))},514:function(e,t,n){"use strict";var a;n.r(t),n.d(t,"render",(function(){return r})),n.d(t,"staticRenderFns",(function(){return l})),n.d(t,"recyclableRender",(function(){return i})),n.d(t,"components",(function(){return a}));try{a={uNavbar:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-navbar/u-navbar")]).then(n.bind(null,1143))}}}catch(o){if(-1===o.message.indexOf("Cannot find module")||-1===o.message.indexOf(".vue"))throw o;console.error(o.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var r=function(){var e=this,t=e.$createElement;e._self._c},i=!1,l=[];r._withStripped=!0},515:function(e,t,n){"use strict";n.r(t);var a=n(516),r=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=r.a},516:function(e,t,n){"use strict";(function(e){var a=n(4);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(517)),i=(a(n(656)),{data:function(){return{filterObject:{date_type:1,date_value:1},gradeList:[{label:"周数据",date_type:1},{label:"月数据",date_type:2},{label:"季度数据",date_type:3},{label:"年数据",date_type:4}],weekFilter:[{name:"上周",date_value:1,date_type:1},{name:"本周",date_value:2,date_type:1}],monthFilter:[],quarterFilter:[{name:"第一季度",firstMonth:1,date_type:3,date_value:1},{name:"第二季度",firstMonth:4,date_type:3,date_value:2},{name:"第三季度",firstMonth:7,date_type:3,date_value:3},{name:"第四季度",firstMonth:10,date_type:3,date_value:4}],yearFilter:[],maxDate:[],minDate:[],selectYear:null,selectMonth:null}},created:function(e){console.log("fliter-date Created")},mounted:function(){console.log("fliter-date mounted"),this.initDate()},methods:{scrollToTarget:function(){var t=this;this.$nextTick((function(){var n=t.yearFilter.length,a="item-"+n;e.createSelectorQuery().select("#"+a).boundingClientRect((function(e){e&&(t.$refs.scrollView.scrollLeft=e.left)})).exec()}))},scrollToItem:function(t){var n=this;this.$nextTick((function(){var a="item-"+t;e.createSelectorQuery().select("#"+a).boundingClientRect((function(e){e&&(n.$refs.parentScroll.scrollLeft=e.left)})).exec()}))},clickTagFun:function(e){if(console.log("用户点击item",e),this.filterObject.date_type!==e.date_type&&(this.filterObject.date_type=e.date_type),4===this.filterObject.date_type){var t=new Date;this.filterObject.date_value=t.getFullYear()}else 2===this.filterObject.date_type?this.getMonths():this.filterObject.date_value=1;console.log("用户切换类型filterObject",this.filterObject)},itemClick:function(e){this.filterObject.date_value=e.date_value,4===this.filterObject.date_type&&(this.selectYear=e.date_value,console.log("用户选择年份 = ",this.selectYear),this.getPastQuartersInYear(this.selectYear)),2===this.filterObject.date_type&&(this.selectMonth=e.date_value),console.log("用户点击filterObject",this.filterObject)},dateToArr:function(e){return e||(e=new Date),(0,r.default)(e).format("YYYY-MM").split("-").map((function(e){return Number(e)}))},initDate:function(){var e=new Date;this.selectYear=e.getFullYear(),this.selectMonth=e.getMonth()+1;var t=this.dateToArr();this.minDate=[t[0]-5,1],this.maxDate=[t[0],12],this.getYearList(),this.getMonths(),this.getPastQuartersInYear(this.selectYear),this.filterObject.date_type=1,console.log("获取selectYear = ",this.selectYear),console.log("获取周 list = ",this.weekFilter)},getYearList:function(){for(var e=2019,t=new Date,n=t.getFullYear(),a=[],r=e;r<=n;r++)a.push({name:"".concat(r,"年"),date_value:r,date_type:3});this.yearFilter=a},getPastQuartersInYear:function(e){for(var t=[{name:"第一季度",firstMonth:1,date_type:3,date_value:1},{name:"第二季度",firstMonth:4,date_type:3,date_value:2},{name:"第三季度",firstMonth:7,date_type:3,date_value:3},{name:"第四季度",firstMonth:10,date_type:3,date_value:4}],n=[],a=(new Date).getMonth()+1,r=0;r<4;r++){var i=3*r+1,l=i+2;e===(new Date).getFullYear()?i<=a&&l>=a&&n.push(t[r]):n.push(t[r])}return this.quarterFilter=n,n},getMonths:function(){var e=Array.from({length:12},(function(e,t){return t+1})),t=new Date,n=t.getFullYear(),a=1,r=this.selectYear==n?t.getMonth()+1:12,i=e.slice(a-1,r-a+1),l=[];i.forEach((function(e){var t={date_type:2};t.name=e+"月",t.date_value=e,l.push(t)})),this.monthFilter=l,console.log("获取月份 list = ",this.monthFilter)}}});t.default=i}).call(this,n(2)["default"])},657:function(e,t,n){"use strict";n.r(t);var a=n(658),r=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=r.a},658:function(e,t,n){}},[[511,"common/runtime","common/vendor","bundle_b/common/vendor"]]]);