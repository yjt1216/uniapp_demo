(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/location/location"],{224:function(n,e,t){"use strict";(function(n,e){var o=t(4);t(26);o(t(25));var u=o(t(225));n.__webpack_require_UNI_MP_PLUGIN__=t,e(u.default)}).call(this,t(1)["default"],t(2)["createPage"])},225:function(n,e,t){"use strict";t.r(e);var o=t(226),u=t(228);for(var i in u)["default"].indexOf(i)<0&&function(n){t.d(e,n,(function(){return u[n]}))}(i);t(231);var r,c=t(32),s=Object(c["default"])(u["default"],o["render"],o["staticRenderFns"],!1,null,null,null,!1,o["components"],r);s.options.__file="pages/location/location.vue",e["default"]=s.exports},226:function(n,e,t){"use strict";t.r(e);var o=t(227);t.d(e,"render",(function(){return o["render"]})),t.d(e,"staticRenderFns",(function(){return o["staticRenderFns"]})),t.d(e,"recyclableRender",(function(){return o["recyclableRender"]})),t.d(e,"components",(function(){return o["components"]}))},227:function(n,e,t){"use strict";var o;t.r(e),t.d(e,"render",(function(){return u})),t.d(e,"staticRenderFns",(function(){return r})),t.d(e,"recyclableRender",(function(){return i})),t.d(e,"components",(function(){return o}));try{o={uniSection:function(){return t.e("uni_modules/uni-section/components/uni-section/uni-section").then(t.bind(null,567))},uniCard:function(){return t.e("uni_modules/uni-card/components/uni-card/uni-card").then(t.bind(null,574))},uniIcons:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uni-icons/components/uni-icons/uni-icons")]).then(t.bind(null,581))}}}catch(c){if(-1===c.message.indexOf("Cannot find module")||-1===c.message.indexOf(".vue"))throw c;console.error(c.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var u=function(){var n=this,e=n.$createElement;n._self._c},i=!1,r=[];u._withStripped=!0},228:function(n,e,t){"use strict";t.r(e);var o=t(229),u=t.n(o);for(var i in o)["default"].indexOf(i)<0&&function(n){t.d(e,n,(function(){return o[n]}))}(i);e["default"]=u.a},229:function(n,e,t){"use strict";(function(n,o){var u=t(4);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=u(t(39)),r=u(t(41)),c=t(38),s=t(230),a={data:function(){return{loading:!1,isAuth:-1,studentInfo:{latitude:"",longitude:"",address:""},schoolInfo:{latitude:"",longitude:"",address:""},mapInstance:null}},computed:{isChooseTarget:function(){return this.schoolInfo.latitude&&this.schoolInfo.longitude}},onLoad:function(){var n=this;return(0,r.default)(i.default.mark((function e(){return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n.mapInstance=new s({key:"H42BZ-XO4R3-F2L33-OQOQY-NTHSE-Y7F52"}),n.getLocationInfo();case 2:case"end":return e.stop()}}),e)})))()},methods:{chooseLocation:function(){var e=this;n.chooseLocation({success:function(n){console.log("选择定位位置res",n);var t=n.address,o=n.latitude,u=n.longitude,i=n.name;e.schoolInfo.latitude=o,e.schoolInfo.longitude=u,e.schoolInfo.address=t+i},fail:function(n){console.log("选择定位位置失败error",n)}})},getLocationInfo:function(){var e=this;this.loading=!0,n.getLocation({type:"gcj02",success:function(n){var t=n.latitude,o=n.longitude;e.studentInfo.latitude=t,e.studentInfo.longitude=o,e.mapInstance.reverseGeocoder({location:{latitude:t,longitude:o},success:function(n){console.log(n),e.studentInfo.address=n.result.address,e.loading=!1}})}})},reGrantAuth:function(){var e=this;return(0,r.default)(i.default.mark((function t(){var u;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,c.getLocationAuth)();case 2:u=t.sent,u?n.showToast({title:"已授权",duration:500,icon:"none"}):o.openSetting({success:function(n){n.authSetting["scope.userLocation"]&&(e.getLocationInfo(),e.isAuth=1)}});case 4:case"end":return t.stop()}}),t)})))()}}};e.default=a}).call(this,t(2)["default"],t(1)["default"])},231:function(n,e,t){"use strict";t.r(e);var o=t(232),u=t.n(o);for(var i in o)["default"].indexOf(i)<0&&function(n){t.d(e,n,(function(){return o[n]}))}(i);e["default"]=u.a},232:function(n,e,t){}},[[224,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/location/location.js.map